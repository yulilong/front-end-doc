(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{760:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("p"),t._m(0),a("p"),t._v(" "),a("p",[t._v("[TOC]")]),t._v(" "),t._m(1),t._v(" "),a("p",[a("a",{attrs:{href:"https://pinia.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜ç½‘"),a("OutboundLink")],1),t._v("ï¼šhttps://pinia.vuejs.org/zh/")]),t._v(" "),a("p",[t._v("Pinia - ç¬¦åˆç›´è§‰çš„  Vue.js çŠ¶æ€ç®¡ç†åº“ï¼Œç±»å‹å®‰å…¨ã€å¯æ‰©å±•æ€§ä»¥åŠæ¨¡å—åŒ–è®¾è®¡ã€‚ ç”šè‡³è®©ä½ å¿˜è®°æ­£åœ¨ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªçŠ¶æ€åº“ã€‚")]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("Pinia "),a("a",{attrs:{href:"https://github.com/vuejs/pinia/commit/06aeef54e2cad66696063c62829dac74e15fd19e",target:"_blank",rel:"noopener noreferrer"}},[t._v("èµ·å§‹"),a("OutboundLink")],1),t._v("äº 2019 å¹´ 11 æœˆå·¦å³çš„ä¸€æ¬¡å®éªŒï¼Œå…¶ç›®çš„æ˜¯è®¾è®¡ä¸€ä¸ªæ‹¥æœ‰"),a("a",{attrs:{href:"https://github.com/vuejs/composition-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç»„åˆå¼ API"),a("OutboundLink")],1),t._v(" çš„ Vue çŠ¶æ€ç®¡ç†åº“ã€‚ä»é‚£æ—¶èµ·ï¼Œæˆ‘ä»¬å°±å€¾å‘äºåŒæ—¶æ”¯æŒ Vue 2 å’Œ Vue 3ï¼Œå¹¶ä¸”ä¸å¼ºåˆ¶è¦æ±‚å¼€å‘è€…ä½¿ç”¨ç»„åˆå¼ APIï¼Œæˆ‘ä»¬çš„åˆå¿ƒè‡³ä»Šæ²¡æœ‰æ”¹å˜ã€‚é™¤äº†"),a("strong",[t._v("å®‰è£…")]),t._v("å’Œ "),a("strong",[t._v("SSR")]),t._v(" ä¸¤ç« ä¹‹å¤–ï¼Œå…¶ä½™ç« èŠ‚ä¸­æåˆ°çš„ API å‡æ”¯æŒ Vue 2 å’Œ Vue 3ã€‚è™½ç„¶æœ¬æ–‡æ¡£ä¸»è¦æ˜¯é¢å‘ Vue 3 çš„ç”¨æˆ·ï¼Œä½†åœ¨å¿…è¦æ—¶ä¼šæ ‡æ³¨å‡º Vue 2 çš„å†…å®¹ï¼Œå› æ­¤ Vue 2 å’Œ Vue 3 çš„ç”¨æˆ·éƒ½å¯ä»¥é˜…è¯»æœ¬æ–‡æ¡£ã€‚")]),t._v(" "),a("p",[t._v("Pinia æ˜¯ Vue çš„ä¸“å±çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒå…è®¸ä½ è·¨ç»„ä»¶æˆ–é¡µé¢å…±äº«çŠ¶æ€ã€‚å¦‚æœä½ ç†Ÿæ‚‰ç»„åˆå¼ API çš„è¯ï¼Œä½ å¯èƒ½ä¼šè®¤ä¸ºå¯ä»¥é€šè¿‡ä¸€è¡Œç®€å•çš„ "),a("code",[t._v("export const state = reactive({})")]),t._v(" æ¥å…±äº«ä¸€ä¸ªå…¨å±€çŠ¶æ€ã€‚å¯¹äºå•é¡µåº”ç”¨æ¥è¯´ç¡®å®å¯ä»¥ï¼Œä½†å¦‚æœåº”ç”¨åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œè¿™å¯èƒ½ä¼šä½¿ä½ çš„åº”ç”¨æš´éœ²å‡ºä¸€äº›"),a("a",{attrs:{href:"https://cn.vuejs.org/guide/scaling-up/ssr#cross-request-state-pollution",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®‰å…¨æ¼æ´"),a("OutboundLink")],1),t._v("ã€‚ è€Œå¦‚æœä½¿ç”¨ Piniaï¼Œå³ä½¿åœ¨å°å‹å•é¡µåº”ç”¨ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥è·å¾—å¦‚ä¸‹åŠŸèƒ½ï¼š")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("å½“å®šä¹‰å¥½storeæ–‡ä»¶åï¼Œå¯ä»¥ç›´æ¥åœ¨ç»„ä»¶ä¸­ä¿®æ”¹storeå˜é‡ï¼š")]),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),a("p",[t._v("åœ¨ä¸€æ¬¡æ€§ä¿®æ”¹å¤šä¸ªå±æ€§çš„æ—¶å€™ã€‚ç¬¬ä¸€ç§æ–¹å¼æ¯ä¸ªä¿®æ”¹éƒ½ä¼šè§¦å‘ä¸€æ¬¡æ—¶é—´çº¿ã€‚è€Œç¬¬äºŒç§æ–¹å¼ æ˜¯ä¸€æ¬¡æ€§æ‰¹é‡ä¿®æ”¹ï¼Œåªä¼šè§¦å‘ä¸€æ¬¡ æ—¶é—´çº¿(æµè§ˆå™¨vueæ’ä»¶ï¼Œæ—¶é—´çº¿(TimeLine))ã€‚")]),t._v(" "),t._m(18),t._v(" "),a("p",[t._v("å¦‚æœä¿®æ”¹çš„æ•°æ®éœ€è¦ä¸€äº›é€»è¾‘å¤„ç†ï¼Œåˆ™å¯ä»¥ç›´æ¥åœ¨å®šä¹‰çš„storeæ–‡ä»¶é‡Œé¢çš„actionsæ–¹æ³•.")]),t._v(" "),t._m(19),t._v(" "),t._m(20),a("p",[t._v("2ã€ç»„ä»¶ä¸­è°ƒç”¨æ–¹æ³•ä¿®æ”¹å±æ€§ï¼š")]),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._m(25),t._v(" "),t._m(26),t._v(" "),a("p",[t._v("ä½•æ—¶ç”¨ï¼šæƒ³è¦å¿«é€Ÿã€æ˜ç¡®åœ°è¯»å†™ storeï¼Œæˆ–åªç”¨å°‘é‡å­—æ®µæ—¶ä¼˜å…ˆä½¿ç”¨ã€‚")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._m(37),t._v(" "),a("p",[t._v("Pinia å®˜æ–¹æ–‡æ¡£ä¹Ÿæ˜ç¡®æŒ‡å‡ºè¿™ä¸€ç‚¹ğŸ‘‡")]),t._v(" "),t._m(38),t._v(" "),a("p",[t._v("å¦‚æœæƒ³è¦è§£æ„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼š")]),t._v(" "),t._m(39),t._m(40),t._v(" "),t._m(41),t._m(42),t._v(" "),t._m(43),t._v(" "),a("p",[t._v("ä½•æ—¶ç”¨ï¼šéœ€è¦å¯¹ store çš„å€¼åšè½¬æ¢ã€æ ¼å¼åŒ–ã€æˆ–ä¿è¯éç©ºé»˜è®¤å€¼æ—¶ä½¿ç”¨ã€‚")]),t._v(" "),t._m(44),t._v(" "),t._m(45),t._m(46),t._v(" "),t._m(47),t._v(" "),a("p",[t._v("ä¾‹å¤–æƒ…å†µï¼šåœ¨ç»„ä»¶çš„æ–¹æ³•é‡Œé¢ç»“æ„è·å–è¿™ä¸€æ¬¡çš„å€¼æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæ–¹æ³•æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šä»æ–°ç»“æ„è·å–æœ€æ–°çš„å€¼ã€‚")]),t._v(" "),t._m(48),t._v(" "),a("p",[t._v("TypeScript æ³¨æ„ç‚¹ï¼š")]),t._v(" "),t._m(49),t._v(" "),a("p",[t._v("æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§")]),t._v(" "),t._m(50),t._v(" "),a("p",[t._v("æ¨èæ€»ç»“ï¼ˆå®ç”¨è§„åˆ™ï¼‰")]),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._m(57),t._v(" "),t._m(58),t._v(" "),a("p",[t._v("ä¾‹å­ï¼š")]),t._v(" "),t._m(59),t._v(" "),t._m(60),t._m(61),t._v(" "),t._m(62),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),a("p",[t._v("å¯ä»¥è¿™æ ·åšæ¥é¿å…å¾ªç¯ä¾èµ–ï¼š")]),t._v(" "),t._m(70),t._v(" "),t._m(71),a("p",[t._v("ç„¶ååœ¨ä¸åŒ store ä¸­éƒ½å¯ä»¥å®‰å…¨ä½¿ç”¨ã€‚")]),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),a("p",[t._v("å†™æ³•1ï¼šä¿å­˜åˆ°å˜é‡,è¿™ç§å†™æ³•çš„ä¼˜ç‚¹ï¼š")]),t._v(" "),t._m(79),t._v(" "),t._m(80),a("p",[t._v("å†™æ³•2ï¼šç›´æ¥è°ƒç”¨ï¼Œè¿™ç§å†™æ³•è™½ç„¶å¯ä»¥ç”¨ï¼Œä½†æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š")]),t._v(" "),t._m(81)])},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_1-ç®€ä»‹"}},[t._v("1. ç®€ä»‹")])]),a("li",[a("a",{attrs:{href:"#_2-æ­å»º-pinia-ç¯å¢ƒ"}},[t._v("2. æ­å»º pinia ç¯å¢ƒ")]),a("ul",[a("li",[a("a",{attrs:{href:"#_2-1-å®‰è£…-pinia-åŒ…"}},[t._v("2.1 å®‰è£… pinia åŒ…")])]),a("li",[a("a",{attrs:{href:"#_2-2-åˆ›å»ºä¸€ä¸ª-pinia-å®ä¾‹-æ ¹-store-å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ï¼š"}},[t._v("2.2 åˆ›å»ºä¸€ä¸ª pinia å®ä¾‹ (æ ¹ store) å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ï¼š")])]),a("li",[a("a",{attrs:{href:"#_2-3-ä¸€ä¸ªå®Œæ•´çš„storeå®šä¹‰æ–‡ä»¶-src-store-talk-ts-ï¼š"}},[t._v("2.3 ä¸€ä¸ªå®Œæ•´çš„storeå®šä¹‰æ–‡ä»¶(src/store/talk.ts)ï¼š")])])])]),a("li",[a("a",{attrs:{href:"#_3-ä¿®æ”¹storeå˜é‡"}},[t._v("3. ä¿®æ”¹storeå˜é‡")]),a("ul",[a("li",[a("a",{attrs:{href:"#_3-1-ç›´æ¥ä¿®æ”¹"}},[t._v("3.1 ç›´æ¥ä¿®æ”¹")])]),a("li",[a("a",{attrs:{href:"#_3-2-å¤šä¸ªå±æ€§æ‰¹é‡ä¿®æ”¹"}},[t._v("3.2 å¤šä¸ªå±æ€§æ‰¹é‡ä¿®æ”¹")])]),a("li",[a("a",{attrs:{href:"#_3-3-é€šè¿‡storeæ–‡ä»¶ä¸­å®šä¹‰çš„actionsæ–¹æ³•è¿›è¡Œä¿®æ”¹"}},[t._v("3.3 é€šè¿‡storeæ–‡ä»¶ä¸­å®šä¹‰çš„actionsæ–¹æ³•è¿›è¡Œä¿®æ”¹")])])])]),a("li",[a("a",{attrs:{href:"#_4-åœ¨ç»„ä»¶ä¸­ä½¿ç”¨storeå±æ€§çš„å‡ ç§æ–¹æ³•"}},[t._v("4. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨storeå±æ€§çš„å‡ ç§æ–¹æ³•")]),a("ul",[a("li",[a("a",{attrs:{href:"#_4-1-ç›´æ¥ä½¿ç”¨store-æœ€ç®€å•"}},[t._v("4.1 ç›´æ¥ä½¿ç”¨store(æœ€ç®€å•)")])]),a("li",[a("a",{attrs:{href:"#_4-2-ä½¿ç”¨storetorefsæ–¹æ³•è§£æ„storeå±æ€§"}},[t._v("4.2 ä½¿ç”¨storeToRefsæ–¹æ³•è§£æ„storeå±æ€§")])]),a("li",[a("a",{attrs:{href:"#_4-3-ç”¨-computed-åŒ…è£¹è®¿é—®ï¼ˆå½“éœ€è¦æ´¾ç”Ÿ-ä»£ç†æ—¶ï¼‰"}},[t._v("4.3 ç”¨ computed åŒ…è£¹è®¿é—®ï¼ˆå½“éœ€è¦æ´¾ç”Ÿ/ä»£ç†æ—¶ï¼‰")])]),a("li",[a("a",{attrs:{href:"#_4-4-é”™è¯¯ç”¨æ³•ï¼šç›´æ¥è§£æ„-const-userinfo-store"}},[t._v("4.4 é”™è¯¯ç”¨æ³•ï¼šç›´æ¥è§£æ„ const { userInfo } = store")])]),a("li",[a("a",{attrs:{href:"#_4-4-æ€»ç»“"}},[t._v("4.4 æ€»ç»“")])])])]),a("li",[a("a",{attrs:{href:"#_6-getters"}},[t._v("6. getters")])]),a("li",[a("a",{attrs:{href:"#_7-subscribe"}},[t._v("7. $subscribe")])]),a("li",[a("a",{attrs:{href:"#_8-storeè°ƒç”¨å¦å¤–ä¸€ä¸ªstoreçš„æ–¹æ³•"}},[t._v("8. storeè°ƒç”¨å¦å¤–ä¸€ä¸ªstoreçš„æ–¹æ³•")]),a("ul",[a("li",[a("a",{attrs:{href:"#_8-1-ä¸è¦åœ¨å®šä¹‰å¤–å±‚ç›´æ¥è°ƒç”¨"}},[t._v("8.1 ä¸è¦åœ¨å®šä¹‰å¤–å±‚ç›´æ¥è°ƒç”¨")])]),a("li",[a("a",{attrs:{href:"#_8-2-æ­£ç¡®è°ƒç”¨æ—¶æœºæ€»ç»“"}},[t._v("8.2 æ­£ç¡®è°ƒç”¨æ—¶æœºæ€»ç»“")])]),a("li",[a("a",{attrs:{href:"#_8-3-å¦‚æœéœ€è¦åŒå‘è°ƒç”¨ï¼ˆä¸¤ä¸ª-store-äº’ç›¸ä¾èµ–ï¼‰"}},[t._v("8.3 å¦‚æœéœ€è¦åŒå‘è°ƒç”¨ï¼ˆä¸¤ä¸ª store äº’ç›¸ä¾èµ–ï¼‰")])])])]),a("li",[a("a",{attrs:{href:"#_9-ä¸€äº›å¸¸è§é—®é¢˜"}},[t._v("9. ä¸€äº›å¸¸è§é—®é¢˜")]),a("ul",[a("li",[a("a",{attrs:{href:"#_9-1-ä½¿ç”¨const-store-useuserstore-å’Œç›´æ¥ä½¿ç”¨useuserstore-æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ"}},[t._v("9.1 ä½¿ç”¨const store = useUserStore()å’Œç›´æ¥ä½¿ç”¨useUserStore() æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"pinia-çŠ¶æ€ç®¡ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pinia-çŠ¶æ€ç®¡ç†","aria-hidden":"true"}},[this._v("#")]),this._v(" Pinia - çŠ¶æ€ç®¡ç†")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-ç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç®€ä»‹","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. ç®€ä»‹")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("æµ‹è¯•å·¥å…·é›†")]),t._v(" "),a("li",[t._v("æ’ä»¶ï¼šå¯é€šè¿‡æ’ä»¶æ‰©å±• Pinia åŠŸèƒ½")]),t._v(" "),a("li",[t._v("ä¸º JS å¼€å‘è€…æä¾›é€‚å½“çš„ TypeScript æ”¯æŒä»¥åŠ"),a("strong",[t._v("è‡ªåŠ¨è¡¥å…¨")]),t._v("åŠŸèƒ½ã€‚")]),t._v(" "),a("li",[t._v("æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“")]),t._v(" "),a("li",[t._v("Devtools æ”¯æŒ\n"),a("ul",[a("li",[t._v("è¿½è¸ª actionsã€mutations çš„æ—¶é—´çº¿")]),t._v(" "),a("li",[t._v("åœ¨ç»„ä»¶ä¸­å±•ç¤ºå®ƒä»¬æ‰€ç”¨åˆ°çš„ Store")]),t._v(" "),a("li",[t._v("è®©è°ƒè¯•æ›´å®¹æ˜“çš„ Time travel")])])]),t._v(" "),a("li",[t._v("çƒ­æ›´æ–°\n"),a("ul",[a("li",[t._v("ä¸å¿…é‡è½½é¡µé¢å³å¯ä¿®æ”¹ Store")]),t._v(" "),a("li",[t._v("å¼€å‘æ—¶å¯ä¿æŒå½“å‰çš„ State")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-æ­å»º-pinia-ç¯å¢ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ­å»º-pinia-ç¯å¢ƒ","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. æ­å»º pinia ç¯å¢ƒ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-1-å®‰è£…-pinia-åŒ…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-å®‰è£…-pinia-åŒ…","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 å®‰è£… pinia åŒ…")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" pinia\n"),s("span",{attrs:{class:"token comment"}},[this._v("# æˆ–ä½¿ç”¨ yarn")]),this._v("\nyarn add pinia\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-2-åˆ›å»ºä¸€ä¸ª-pinia-å®ä¾‹-æ ¹-store-å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ï¼š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-åˆ›å»ºä¸€ä¸ª-pinia-å®ä¾‹-æ ¹-store-å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ï¼š","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 åˆ›å»ºä¸€ä¸ª pinia å®ä¾‹ (æ ¹ store) å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ï¼š")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createApp "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createPinia "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// å¼•å…¥createPiniaï¼Œç”¨äºåˆ›å»ºpinia")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" App "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'./App.vue'")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pinia "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createPinia")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// åˆ›å»ºpinia")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createApp")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("use")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pinia"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨æ’ä»¶")]),t._v("\napp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("mount")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'#app'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("é‡å¯æœåŠ¡åï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨çš„vueæ’ä»¶ä¸­çœ‹åˆ°"),s("code",[this._v("pinia")]),this._v("é€‰é¡¹")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-3-ä¸€ä¸ªå®Œæ•´çš„storeå®šä¹‰æ–‡ä»¶-src-store-talk-ts-ï¼š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-ä¸€ä¸ªå®Œæ•´çš„storeå®šä¹‰æ–‡ä»¶-src-store-talk-ts-ï¼š","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.3 ä¸€ä¸ªå®Œæ•´çš„storeå®šä¹‰æ–‡ä»¶(src/store/talk.ts)ï¼š")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[a("p",[t._v("Storeæ˜¯ä¸€ä¸ªä¿å­˜ï¼š"),a("strong",[t._v("çŠ¶æ€")]),t._v("ã€"),a("strong",[t._v("ä¸šåŠ¡é€»è¾‘")]),t._v(" çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥"),a("strong",[t._v("è¯»å–")]),t._v("ã€"),a("strong",[t._v("å†™å…¥")]),t._v("å®ƒã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š"),a("code",[t._v("state")]),t._v("ã€"),a("code",[t._v("getter")]),t._v("ã€"),a("code",[t._v("action")]),t._v("ï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š "),a("code",[t._v("data")]),t._v("ã€ "),a("code",[t._v("computed")]),t._v(" å’Œ "),a("code",[t._v("methods")]),t._v("ã€‚")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstoreï¼Œæ³¨æ„ï¼šæœ‰çš„é¡¹ç›®å¯ä»¥ä¸ç”¨å¼•å…¥ï¼Œç›´æ¥ä½¿ç”¨è¿™ä¸ªå˜é‡")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("defineStore"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useTalkStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("defineStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'talk'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// çŠ¶æ€ï¼šå­˜å‚¨çš„å˜é‡")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("state")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      num"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      talkList"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'da01'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'ä½ ä»Šå¤©æœ‰ç‚¹æ€ªï¼Œå“ªé‡Œæ€ªï¼Ÿæ€ªå¥½çœ‹çš„ï¼'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'da02'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'è‰è“ã€è“è“ã€è”“è¶Šè“ï¼Œä½ æƒ³æˆ‘äº†æ²¡ï¼Ÿ'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// è®¡ç®—ï¼šæ ¹æ®çŠ¶æ€æ¥è®¡ç®—æ–°å˜é‡")]),t._v("\n  getters"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// åŸºæœ¬ getterï¼Œè¿”å› state çš„è®¡ç®—å€¼")]),t._v("\n    doubleNum"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// å¯ä»¥è®¿é—®å…¶ä»– getter")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("doubleCountNum")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("doubleNum "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// åŠ¨ä½œï¼šæ‰§è¡Œæ–¹æ³•ï¼Œç”¨æ¥è®¾ç½®çŠ¶æ€")]),t._v("\n  actions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// åŒæ­¥æ–¹æ³•")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("setNumber")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" umber"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" num\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// å¼‚æ­¥æ–¹æ³•")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("getInfo")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("info")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" res "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("talkList "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("talkList\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_3-ä¿®æ”¹storeå˜é‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-ä¿®æ”¹storeå˜é‡","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. ä¿®æ”¹storeå˜é‡")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-1-ç›´æ¥ä¿®æ”¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-ç›´æ¥ä¿®æ”¹","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.1 ç›´æ¥ä¿®æ”¹")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" useTalkStore "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/store/talk'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useTalkStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nstore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("66")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// ä¸‹é¢è¿™ç§æ–¹å¼ä¹Ÿèƒ½ä¿®æ”¹å˜é‡")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" storeToRefs "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" num "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("storeToRefs")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nnum"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("88")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-2-å¤šä¸ªå±æ€§æ‰¹é‡ä¿®æ”¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-å¤šä¸ªå±æ€§æ‰¹é‡ä¿®æ”¹","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.2 å¤šä¸ªå±æ€§æ‰¹é‡ä¿®æ”¹")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("countStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("$patch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  sum"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("999")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  school"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'atguigu'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-3-é€šè¿‡storeæ–‡ä»¶ä¸­å®šä¹‰çš„actionsæ–¹æ³•è¿›è¡Œä¿®æ”¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-é€šè¿‡storeæ–‡ä»¶ä¸­å®šä¹‰çš„actionsæ–¹æ³•è¿›è¡Œä¿®æ”¹","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.3 é€šè¿‡storeæ–‡ä»¶ä¸­å®šä¹‰çš„actionsæ–¹æ³•è¿›è¡Œä¿®æ”¹")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("1ã€storeæ–‡ä»¶ä¸­å®šä¹‰"),s("code",[this._v("actions")]),this._v("æ–¹æ³•ï¼š")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("defineStore"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useTalkStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("defineStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'talk'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("state")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  num"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  actions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// åŒæ­¥æ“ä½œ")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("increment")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("number"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("//æ“ä½œcountStoreä¸­çš„num")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("+=")]),t._v(" value\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// å¼‚æ­¥æ–¹æ³•ï¼šä»æ¥å£è·å–æ•°æ®")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("getNumPromise")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token function"}},[t._v("fetch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'https://api.example.com/data'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("json")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// å¯ä»¥åœ¨è°ƒç”¨çš„åœ°æ–¹ä½¿ç”¨thenæ–¹æ³•ä½¿ç”¨dataæ•°æ®")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{attrs:{class:"token function"}},[t._v("reject")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// å¼‚æ­¥æ–¹æ³•ï¼šä»æ¥å£è·å–æ•°æ®")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("fetchDataAwait")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("fetch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'https://api.example.com/data'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("json")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" data "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// è°ƒç”¨çš„åœ°æ–¹è·å–dataçš„å€¼")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token class-name"}},[t._v("error")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("error")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'Error fetching data:'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" onMounted"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ref "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'vue'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("useTalkStore"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'./stores/talkStore.ts'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" talkStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useTalkStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("onMounted")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("talkStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    talkStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getNumPromise")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'è®¾ç½®æ•°æ®çš„åŒæ—¶è¿”å›æ•°æ®ä½¿ç”¨'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// åŒæ­¥å½¢å¼ï¼ŒgetNumPromise()æ–¹æ³•ä½¿ç”¨awaitä¹Ÿå¯ä»¥")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("talkStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" talkStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("fetchDataAwait")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'è®¾ç½®æ•°æ®çš„åŒæ—¶è¿”å›æ•°æ®await'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_4-åœ¨ç»„ä»¶ä¸­ä½¿ç”¨storeå±æ€§çš„å‡ ç§æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-åœ¨ç»„ä»¶ä¸­ä½¿ç”¨storeå±æ€§çš„å‡ ç§æ–¹æ³•","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨storeå±æ€§çš„å‡ ç§æ–¹æ³•")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-1-ç›´æ¥ä½¿ç”¨store-æœ€ç®€å•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-ç›´æ¥ä½¿ç”¨store-æœ€ç®€å•","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1 ç›´æ¥ä½¿ç”¨store(æœ€ç®€å•)")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ store.userInfo?.name }}"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("setup")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}},[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useUserStore "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/stores/user'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ä¼˜ç‚¹ï¼š"),s("br"),this._v("\n1ã€æœ€ç®€å•ã€ç›´è§‚ï¼Œä¸ç”¨é¢å¤–è½¬/refã€‚"),s("br"),this._v("\n2ã€å“åº”æ€§ä¿ç•™ï¼ˆVue ä¼šè·Ÿè¸ª "),s("code",[this._v("store.userInfo")]),this._v("ï¼‰ã€‚")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("ç¼ºç‚¹ï¼š"),a("br"),t._v("\n1ã€åœ¨æ¨¡æ¿ä¸­é¢‘ç¹å†™ "),a("code",[t._v("store.xxx")]),t._v(" æ¯”è¾ƒå•°å—¦ï¼ˆä½†å¯è¯»æ€§å¥½ï¼‰ã€‚"),a("br"),t._v("\n2ã€åœ¨ "),a("code",[t._v("<script setup>")]),t._v(" é‡Œ "),a("strong",[t._v("ä¸èƒ½ç”¨å¯¹è±¡è§£æ„")]),t._v(" "),a("code",[t._v("const { userInfo } = store")]),t._v("ï¼ˆé‚£æ ·ä¼šä¸¢å¤±å“åº”æ€§ï¼‰ï¼Œå¿…é¡»ç›´æ¥è®¿é—® "),a("code",[t._v("store.userInfo")]),t._v(" æˆ–ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-2-ä½¿ç”¨storetorefsæ–¹æ³•è§£æ„storeå±æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-ä½¿ç”¨storetorefsæ–¹æ³•è§£æ„storeå±æ€§","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.2 ä½¿ç”¨storeToRefsæ–¹æ³•è§£æ„storeå±æ€§")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("storeToRefs()")]),this._v(" æ˜¯ Pinia æä¾›çš„å·¥å…·å‡½æ•°ï¼Œç”¨æ¥æŠŠ store çš„ "),s("strong",[this._v("state + getter")]),this._v(" å±æ€§è½¬æ¢æˆ "),s("code",[this._v("ref")]),this._v("ï¼Œä»è€Œå¯ä»¥å®‰å…¨åœ°åœ¨ç»„ä»¶ä¸­è§£æ„ä½¿ç”¨ï¼ŒåŒæ—¶ä¿æŒå“åº”æ€§ã€‚")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ userInfo }}"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("setup")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}},[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" storeToRefs "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isLoading "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("storeToRefs")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("ä¼˜ç‚¹ï¼š"),a("br"),t._v("\n1ã€è¿”å›çš„æ˜¯ "),a("code",[t._v("ref")]),t._v("ï¼Œå¯ä»¥å®‰å…¨åœ°åœ¨ "),a("code",[t._v("<template>")]),t._v(" ä¸­ç›´æ¥ä½¿ç”¨æˆ–åœ¨ "),a("code",[t._v("<script>")]),t._v(" ä¸­è§£æ„ã€‚"),a("br"),t._v("\n2ã€ä¿ç•™å“åº”æ€§ï¼Œå’Œ Composition API é£æ ¼ä¸€è‡´ã€‚"),a("br"),t._v("\n3ã€TypeScript æ”¯æŒè‰¯å¥½ï¼ˆç±»å‹æ˜¯ "),a("code",[t._v("Ref<T>")]),t._v("ï¼‰ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ç¼ºç‚¹ï¼š"),s("br"),this._v("\n1ã€éœ€è¦å¤šå†™ä¸€æ¬¡ "),s("code",[this._v("storeToRefs(...)")]),this._v("ï¼ˆéå¸¸å°çš„æˆæœ¬ï¼‰ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ä½•æ—¶ç”¨ï¼šéœ€è¦åœ¨ "),s("code",[this._v("<script>")]),this._v(" ä¸­è§£æ„å¤šä¸ªå­—æ®µï¼Œæˆ–æƒ³é¿å… "),s("code",[this._v("store.")]),this._v(" å‰ç¼€æ—¶ã€‚"),s("strong",[this._v("è¿™æ˜¯ Pinia å®˜æ–¹æ¨è")]),this._v("çš„åšæ³•ã€‚")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("strong",[t._v("æ³¨æ„")]),t._v("ï¼š"),a("code",[t._v("pinia")]),t._v("æä¾›çš„"),a("code",[t._v("storeToRefs")]),t._v("åªä¼šå°†æ•°æ®åšè½¬æ¢ï¼Œè€Œ"),a("code",[t._v("Vue")]),t._v("çš„"),a("code",[t._v("toRefs")]),t._v("ä¼šè½¬æ¢"),a("code",[t._v("store")]),t._v("ä¸­æ•°æ®ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_4-2-1-storetorefsæ–¹æ³•ä¸èƒ½ç»“æ„actionsé‡Œé¢çš„æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-storetorefsæ–¹æ³•ä¸èƒ½ç»“æ„actionsé‡Œé¢çš„æ–¹æ³•","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.2.1 storeToRefsæ–¹æ³•ä¸èƒ½ç»“æ„actionsé‡Œé¢çš„æ–¹æ³•")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("æ³¨æ„")]),this._v("ï¼š"),s("strong",[s("code",[this._v("storeToRefs()")]),this._v(" åªèƒ½è§£æ„ stateï¼ˆçŠ¶æ€ï¼‰å’Œ getterï¼Œä¸èƒ½è§£æ„ actionï¼ˆæ–¹æ³•ï¼‰")]),this._v("ã€‚\nå¦‚æœä½ è¯•å›¾å¯¹ actions ä½¿ç”¨å®ƒï¼Œæ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ï¼ˆå®ƒåªä¼šå¿½ç•¥æ‰å‡½æ•°ï¼‰ã€‚")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// getUserInfo æ˜¯storeæ–‡ä»¶ä¸­çš„actionsé‡Œé¢çš„æ–¹æ³•")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" getUserInfo "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("storeToRefs")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("ä¸Šé¢çš„ä»£ç ä¸­"),a("code",[t._v("getUserInfo")]),t._v("å®é™…ä¸Šæ˜¯ "),a("code",[t._v("undefined")]),t._v("ï¼,å› ä¸º "),a("code",[t._v("storeToRefs()")]),t._v(" "),a("strong",[t._v("ä¸ä¼šå¤„ç†å‡½æ•°ï¼ˆactionsï¼‰")]),t._v("ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[s("code",[this._v("storeToRefs()")]),this._v(" only converts the state and getters into refs. Actions are ignored.")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("v-if")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("isLoading"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("åŠ è½½ä¸­..."),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("v-else")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ userInfo?.name }}"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getUserInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("åˆ·æ–°ç”¨æˆ·ä¿¡æ¯"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("setup")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}},[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useUserStore "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/stores/user'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" storeToRefs "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isLoading "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("storeToRefs")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" getUserInfo "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" store  "),a("span",{attrs:{class:"token comment"}},[t._v("// âœ… actions ç”¨æ™®é€šè§£æ„")]),t._v("\n")]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-3-ç”¨-computed-åŒ…è£¹è®¿é—®ï¼ˆå½“éœ€è¦æ´¾ç”Ÿ-ä»£ç†æ—¶ï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-ç”¨-computed-åŒ…è£¹è®¿é—®ï¼ˆå½“éœ€è¦æ´¾ç”Ÿ-ä»£ç†æ—¶ï¼‰","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.3 ç”¨ "),s("code",[this._v("computed")]),this._v(" åŒ…è£¹è®¿é—®ï¼ˆå½“éœ€è¦æ´¾ç”Ÿ/ä»£ç†æ—¶ï¼‰")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" computed "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" name "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("computed")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" store"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userInfo"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'åŒ¿å'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ä¼˜ç‚¹ï¼š"),s("br"),this._v("\n1ã€å¯ä»¥åšæ´¾ç”Ÿï¼ˆåŠ å·¥ï¼‰é€»è¾‘å¹¶ä¿æŒå“åº”æ€§ã€‚"),s("br"),this._v("\n2ã€é€‚åˆåšåªè¯»åŒ…è£…æˆ–æ ¼å¼åŒ–è¾“å‡ºã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ç¼ºç‚¹ï¼š"),s("br"),this._v("\n1ã€å¦‚æœå¤§é‡å­—æ®µéƒ½ç”¨ computedï¼Œä¼šç¨å¾®å•°å—¦ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-4-é”™è¯¯ç”¨æ³•ï¼šç›´æ¥è§£æ„-const-userinfo-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-é”™è¯¯ç”¨æ³•ï¼šç›´æ¥è§£æ„-const-userinfo-store","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.4 é”™è¯¯ç”¨æ³•ï¼šç›´æ¥è§£æ„ "),s("code",[this._v("const { userInfo } = store")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ userInfo }}"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("setup")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}},[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" storeToRefs "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userInfo "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" store "),a("span",{attrs:{class:"token comment"}},[t._v("// å½“ store.userInfo å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ¨¡æ¿ä¸­ç»‘å®šçš„ userInfo ä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚")]),t._v("\n")]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("é—®é¢˜ï¼šè¿™æ ·å¾—åˆ°çš„ "),s("code",[this._v("userInfo")]),this._v(" æ˜¯æ™®é€šå˜é‡ï¼ˆä¸æ˜¯ ref / reactive proxyï¼‰ï¼Œå°†"),s("strong",[this._v("å¤±å»å“åº”æ€§")]),this._v("ï¼Œæ¨¡æ¿ä¸ä¼šéš store æ›´æ–°è€Œæ›´æ–°ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ç»“è®ºï¼šåˆ‡å‹¿åœ¨ç»„ä»¶ä¸­ç”¨æ™®é€šè§£æ„ç›´æ¥æ‹¿ store çš„å±æ€§ï¼›è¦ä¹ˆç›´æ¥ç”¨ "),s("code",[this._v("store.xxx")]),this._v("ï¼Œè¦ä¹ˆç”¨ "),s("code",[this._v("storeToRefs")]),this._v(" / "),s("code",[this._v("computed")]),this._v("ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-4-æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-æ€»ç»“","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.4 æ€»ç»“")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("storeToRefs(store)")]),t._v(" è¿”å›çš„æ¯ä¸ªå­—æ®µç±»å‹ä¸º "),a("code",[t._v("Ref<T>")]),t._v("ï¼Œç¼–è¯‘æ—¶æ›´å®‰å…¨ã€‚")]),t._v(" "),a("li",[t._v("ç›´æ¥ "),a("code",[t._v("store.userInfo")]),t._v(" è®¿é—®æ—¶è‹¥éœ€è¦åœ¨ TS ä¸­è§£æ„å¹¶ä¿ç•™ç±»å‹/å“åº”æ€§ï¼Œå¯ç”¨ "),a("code",[t._v("const { userInfo } = storeToRefs(store)")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("è‹¥ store çš„ state åˆå§‹åŒ–ä¸º "),a("code",[t._v("null")]),t._v("ï¼ˆä¾‹å¦‚ "),a("code",[t._v("userInfo: UserInfo | null")]),t._v("ï¼‰ï¼Œæ¨¡æ¿æˆ– computed ä¸­è¦åšå¥½ç©ºå€¼å¤„ç†ã€‚")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("ç›´æ¥ "),a("code",[t._v("store.xxx")]),t._v(" ä¸ "),a("code",[t._v("storeToRefs")]),t._v(" åœ¨æ¸²æŸ“æ€§èƒ½ä¸Šå·®åˆ«å¾®å°ï¼Œä¸ç”¨è¿‡åº¦æ‹…å¿ƒã€‚")]),t._v(" "),a("li",[a("code",[t._v("storeToRefs")]),t._v(" åœ¨å¤šäººåä½œå’Œå¤§å‹æ–‡ä»¶é‡Œèƒ½é¿å…â€œå“åº”æ€§ä¸¢å¤±â€çš„è¸©å‘ï¼Œæ›´æ¨èä½œä¸ºé»˜è®¤åšæ³•ã€‚")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("strong",[t._v("æœ€æ¨èï¼ˆé»˜è®¤ï¼‰")]),t._v("ï¼šåœ¨ "),a("code",[t._v("<script setup>")]),t._v(" ä¸­ç”¨ "),a("code",[t._v("storeToRefs(store)")]),t._v(" è§£æ„ä½ è¦ç”¨çš„å­—æ®µï¼›æ¨¡æ¿ç›´æ¥å¼•ç”¨è¿™äº› refsã€‚")]),t._v(" "),a("li",[a("strong",[t._v("æƒ³å°‘å†™ä»£ç ")]),t._v("ï¼šç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ "),a("code",[t._v("store.userInfo")]),t._v("ï¼ˆç®€å•ã€å¯é ï¼‰ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("éœ€è¦åŠ å·¥æ•°æ®")]),t._v("ï¼šç”¨ "),a("code",[t._v("computed(() => store.xxx)")]),t._v(" åšæ´¾ç”Ÿã€‚")]),t._v(" "),a("li",[a("strong",[t._v("ç»å¯¹ä¸è¦")]),t._v("ï¼šç”¨æ™®é€šè§£æ„ "),a("code",[t._v("const { userInfo } = store")]),t._v("ï¼ˆä¼šä¸¢å¤±å“åº”æ€§ï¼‰ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_6-getters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-getters","aria-hidden":"true"}},[this._v("#")]),this._v(" 6. getters")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[a("p",[t._v("æ¦‚å¿µï¼šå½“"),a("code",[t._v("state")]),t._v("ä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨"),a("code",[t._v("getters")]),t._v("é…ç½®ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("è¿½åŠ "),a("code",[t._v("getters")]),t._v("é…ç½®ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("defineStore"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useCountStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("defineStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'count'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  actions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("state")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      sum"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      school"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'atguigu'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// è®¡ç®—")]),t._v("\n  getters"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    bigSum"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("number "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sum "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token number"}},[t._v("10")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("upperSchool")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("string"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" school"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toUpperCase")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("increment"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("decrement"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" countStore\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sum"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("school"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("bigSum"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("upperSchool"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("storeToRefs")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("countStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_7-subscribe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-subscribe","aria-hidden":"true"}},[this._v("#")]),this._v(" 7. $subscribe")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("é€šè¿‡ store çš„ "),s("code",[this._v("$subscribe()")]),this._v(" æ–¹æ³•ä¾¦å¬ "),s("code",[this._v("state")]),this._v(" åŠå…¶å˜åŒ–")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[t._v("talkStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("$subscribe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mutate"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("state"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token builtin"}},[t._v("console")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'LoveTalk'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mutate"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("state"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  localStorage"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setItem")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'talk'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("stringify")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("talkList"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_8-storeè°ƒç”¨å¦å¤–ä¸€ä¸ªstoreçš„æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-storeè°ƒç”¨å¦å¤–ä¸€ä¸ªstoreçš„æ–¹æ³•","aria-hidden":"true"}},[this._v("#")]),this._v(" 8. storeè°ƒç”¨å¦å¤–ä¸€ä¸ªstoreçš„æ–¹æ³•")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("å¯ä»¥åœ¨ä¸€ä¸ª store ä¸­è°ƒç”¨å¦ä¸€ä¸ª store çš„æ–¹æ³•æˆ– state")]),this._v("ï¼Œä½†è¦"),s("strong",[this._v("åœ¨æ–¹æ³•å†…éƒ¨ï¼ˆå³å‡½æ•°ä½œç”¨åŸŸå†…ï¼‰è°ƒç”¨")]),this._v("ï¼Œâš ï¸ "),s("strong",[this._v("ä¸è¦åœ¨ store å®šä¹‰é¡¶å±‚ç›´æ¥è°ƒç”¨")]),this._v("ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("1ã€"),s("code",[this._v("auth.ts")]),this._v("æ–‡ä»¶ï¼š")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// stores/auth.ts")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineStore "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useAuthStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("defineStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'auth'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  state"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    token"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'abc123'")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  actions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("getToken")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("setToken")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newToken"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" newToken\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("2ã€"),s("code",[this._v("user.ts")]),this._v("æ–‡ä»¶ï¼Œä¼šè°ƒç”¨"),s("code",[this._v("auth.ts")]),this._v("çš„store")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineStore "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useAuthStore "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'./auth'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useUserStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("defineStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'user'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  state"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'å¼ ä¸‰'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    token"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  actions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("fetchUserInfo")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" authStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useAuthStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),a("span",{attrs:{class:"token comment"}},[t._v("// âœ… åœ¨æ–¹æ³•å†…éƒ¨è°ƒç”¨")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" token "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" authStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token      "),a("span",{attrs:{class:"token comment"}},[t._v("// è°ƒç”¨å±æ€§")]),t._v("\n      authStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setToken")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("               "),a("span",{attrs:{class:"token comment"}},[t._v("// è°ƒç”¨æ–¹æ³• ")]),t._v("\n      console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'å½“å‰ token:'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" token"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// ...æ ¹æ® token è·å–ç”¨æˆ·ä¿¡æ¯")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_8-1-ä¸è¦åœ¨å®šä¹‰å¤–å±‚ç›´æ¥è°ƒç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-ä¸è¦åœ¨å®šä¹‰å¤–å±‚ç›´æ¥è°ƒç”¨","aria-hidden":"true"}},[this._v("#")]),this._v(" 8.1 ä¸è¦åœ¨å®šä¹‰å¤–å±‚ç›´æ¥è°ƒç”¨")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ä¸‹é¢è¿™ç§å†™æ³• âŒ ä¼šå¯¼è‡´ "),s("strong",[this._v("å¾ªç¯ä¾èµ–æˆ–åˆå§‹åŒ–é”™è¯¯")]),this._v("ï¼š")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// âŒ é”™è¯¯å†™æ³•")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" authStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useAuthStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useUserStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("defineStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'user'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  actions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("fetchUserInfo")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("authStore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getToken")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("âŒ é”™è¯¯åŸå› ï¼š"),s("br"),this._v("\nstore å®šä¹‰æ–‡ä»¶ä¼šåœ¨åº”ç”¨åˆå§‹åŒ–æ—¶è¢«åŠ è½½ï¼Œ"),s("code",[this._v("useAuthStore()")]),this._v(" æ­¤æ—¶ Pinia è¿˜æœªå®Œå…¨æ³¨å†Œï¼Œå¯èƒ½å¯¼è‡´â€œactive pinia was not foundâ€é”™è¯¯ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_8-2-æ­£ç¡®è°ƒç”¨æ—¶æœºæ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-æ­£ç¡®è°ƒç”¨æ—¶æœºæ€»ç»“","aria-hidden":"true"}},[this._v("#")]),this._v(" 8.2 æ­£ç¡®è°ƒç”¨æ—¶æœºæ€»ç»“")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("è°ƒç”¨ä½ç½®")]),t._v(" "),a("th",[t._v("æ˜¯å¦å…è®¸")]),t._v(" "),a("th",[t._v("åŸå› ")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("åœ¨ store çš„ "),a("strong",[t._v("actions å†…éƒ¨")])]),t._v(" "),a("td",[t._v("âœ… å…è®¸")]),t._v(" "),a("td",[t._v("åŠ¨æ€å¼•ç”¨ï¼Œä¸å½±å“åˆå§‹åŒ–")])]),t._v(" "),a("tr",[a("td",[t._v("åœ¨ store çš„ "),a("strong",[t._v("getters å†…éƒ¨")])]),t._v(" "),a("td",[t._v("âš ï¸ ä¸æ¨è")]),t._v(" "),a("td",[t._v("getter é¢‘ç¹æ‰§è¡Œï¼Œå¯èƒ½é€ æˆæ€§èƒ½æµªè´¹")])]),t._v(" "),a("tr",[a("td",[t._v("åœ¨ store "),a("strong",[t._v("å®šä¹‰å¤–éƒ¨é¡¶å±‚")])]),t._v(" "),a("td",[t._v("âŒ ç¦æ­¢")]),t._v(" "),a("td",[t._v("å®¹æ˜“å¾ªç¯ä¾èµ–æˆ–åˆå§‹åŒ–é”™è¯¯")])]),t._v(" "),a("tr",[a("td",[t._v("åœ¨ç»„ä»¶ "),a("code",[t._v("setup()")]),t._v(" ä¸­")]),t._v(" "),a("td",[t._v("âœ… å…è®¸")]),t._v(" "),a("td",[t._v("ç”Ÿå‘½å‘¨æœŸæ­£ç¡®ï¼ŒPinia å·²åˆå§‹åŒ–")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_8-3-å¦‚æœéœ€è¦åŒå‘è°ƒç”¨ï¼ˆä¸¤ä¸ª-store-äº’ç›¸ä¾èµ–ï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-å¦‚æœéœ€è¦åŒå‘è°ƒç”¨ï¼ˆä¸¤ä¸ª-store-äº’ç›¸ä¾èµ–ï¼‰","aria-hidden":"true"}},[this._v("#")]),this._v(" 8.3 å¦‚æœéœ€è¦åŒå‘è°ƒç”¨ï¼ˆä¸¤ä¸ª store äº’ç›¸ä¾èµ–ï¼‰")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("è®© "),a("strong",[t._v("ä¸‹å±‚ store")]),t._v(" æä¾›é€šç”¨é€»è¾‘")]),t._v(" "),a("li",[t._v("è®© "),a("strong",[t._v("ä¸Šå±‚ store")]),t._v(" è°ƒç”¨ä¸‹å±‚çš„å‡½æ•°")]),t._v(" "),a("li",[t._v("æˆ–è€…æŠŠå…¬å…±é€»è¾‘æŠ½æˆä¸€ä¸ª "),a("strong",[t._v("composable")]),t._v("ï¼Œæ¯”å¦‚ "),a("code",[t._v("useAuthUtils()")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// composables/useAuthUtils.ts")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useAuthUtils")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" authStore "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useAuthStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token function-variable function"}},[t._v("refreshToken")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" refreshToken "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_9-ä¸€äº›å¸¸è§é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-ä¸€äº›å¸¸è§é—®é¢˜","aria-hidden":"true"}},[this._v("#")]),this._v(" 9. ä¸€äº›å¸¸è§é—®é¢˜")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_9-1-ä½¿ç”¨const-store-useuserstore-å’Œç›´æ¥ä½¿ç”¨useuserstore-æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-ä½¿ç”¨const-store-useuserstore-å’Œç›´æ¥ä½¿ç”¨useuserstore-æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ","aria-hidden":"true"}},[this._v("#")]),this._v(" 9.1 ä½¿ç”¨const store = useUserStore()å’Œç›´æ¥ä½¿ç”¨useUserStore() æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("ç»“è®ºï¼š   åœ¨ "),a("strong",[t._v("å¤§å¤šæ•°æƒ…å†µä¸‹")]),t._v("ï¼Œ"),a("code",[t._v("const store = useUserStore()")]),t._v(" å’Œ "),a("code",[t._v("useUserStore()")]),t._v(" è¡¨ç°æ•ˆæœæ˜¯ "),a("strong",[t._v("ç›¸åŒçš„")]),t._v(" â€”â€” å› ä¸º Pinia çš„ "),a("code",[t._v("useXxxStore()")]),t._v(" æœ¬èº«è¿”å›çš„å°±æ˜¯ä¸€ä¸ªå“åº”å¼çš„å…¨å±€å•ä¾‹ï¼ˆStore å®ä¾‹ï¼‰ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ä½†æ˜¯ï¼š**å½“ä½ è¦åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€è¦ç»“æ„æ•°æ®ã€è¦åœ¨é€»è¾‘ä¸­å¤šæ¬¡è®¿é—®æ—¶ â€”â€” "),s("strong",[this._v("ä¿å­˜æˆå˜é‡ ("),s("code",[this._v("const store = useUserStore()")]),this._v(") æ›´å®‰å…¨ã€æ›´é«˜æ•ˆã€æ›´è¯­ä¹‰åŒ–")]),this._v("ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("useUserStore()")]),this._v(" æ˜¯ä»€ä¹ˆï¼Ÿ"),s("br"),this._v("\nåœ¨ "),s("code",[this._v("defineStore('user', {...})")]),this._v(" å®šä¹‰åï¼ŒPinia ä¼šç”Ÿæˆä¸€ä¸ªâ€œhook é£æ ¼â€çš„å‡½æ•° "),s("code",[this._v("useUserStore()")]),this._v("ï¼Œå®ƒä¼šï¼š")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("strong",[t._v("åˆ›å»ºæˆ–è¿”å›ä¸€ä¸ªå…¨å±€çš„ Store å®ä¾‹ï¼›")])]),t._v(" "),a("li",[t._v("è¿™ä¸ªå®ä¾‹æ˜¯å“åº”å¼çš„ï¼›")]),t._v(" "),a("li",[t._v("æ•´ä¸ªåº”ç”¨ä¸­ï¼ŒåŒä¸€ä¸ª Store ID åªä¼šæœ‰ä¸€ä¸ªå®ä¾‹ã€‚")]),t._v(" "),a("li",[t._v("æ‰€ä»¥ï¼š"),a("code",[t._v("useUserStore() === useUserStore()")]),t._v(" æ°¸è¿œè¿”å›åŒä¸€ä¸ªå¯¹è±¡")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nstore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userInfo\nstore"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getUserInfo")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("strong",[t._v("è¯­ä¹‰æ¸…æ™°")]),t._v("ï¼š"),a("code",[t._v("store.xxx")]),t._v(" ä¸€çœ‹å°±çŸ¥é“æ˜¯ Store å†…çš„ä¸œè¥¿ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("ä¾¿äºç»“æ„")]),t._v("ï¼šå¯ä»¥é…åˆ "),a("code",[t._v("storeToRefs(store)")]),t._v("ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("åˆ©äºç±»å‹æ¨å¯¼")]),t._v("ï¼šTypeScript èƒ½æ¨å¯¼å‡º store çš„å®Œæ•´ç±»å‹ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("æ˜“äºé‡ç”¨")]),t._v("ï¼šå¤šå¤„é€»è¾‘å¤ç”¨æ—¶ä¸å¿…é‡å¤è°ƒç”¨ã€‚")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userInfo\n"),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getUserInfo")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("p",[t._v("âŒ "),a("strong",[t._v("é‡å¤è°ƒç”¨")]),t._v("ï¼šè™½ç„¶åº•å±‚æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œä½†æ¯æ¬¡è°ƒç”¨éƒ½è¦ç»è¿‡ä¸€æ¬¡æŸ¥æ‰¾ï¼›")])]),t._v(" "),a("li",[a("p",[t._v("âŒ "),a("strong",[t._v("ä¸ç›´è§‚")]),t._v("ï¼šå¯è¯»æ€§è¾ƒå·®ï¼Œä¸å®¹æ˜“çœ‹å‡ºå±äºå“ªä¸ª storeï¼›")])]),t._v(" "),a("li",[a("p",[t._v("âŒ "),a("strong",[t._v("ä¸ä¾¿ç»“æ„")]),t._v("ï¼šä½ æ— æ³•åƒ "),a("code",[t._v("const { userInfo } = storeToRefs(store)")]),t._v(" é‚£æ ·ç®€æ´ä½¿ç”¨ï¼›")])]),t._v(" "),a("li",[a("p",[t._v("âŒ "),a("strong",[t._v("watch / computed ä¸­é‡å¤å†™")]),t._v(" æ—¶æ˜¾å¾—è‡ƒè‚¿ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ç‰¹åˆ«è¯´æ˜ï¼šä¸ä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚æœ‰çš„åŒå­¦æ‹…å¿ƒï¼šæˆ‘åœ¨ä¸€ä¸ªç»„ä»¶é‡Œå¤šæ¬¡è°ƒç”¨ "),a("code",[t._v("useUserStore()")]),t._v(" ä¼šä¸ä¼šåˆ›å»ºå¤šä¸ª storeï¼Ÿä¸ä¼šã€‚Pinia å†…éƒ¨ä¼šç¼“å­˜åŒä¸€ä¸ª ID çš„ store å®ä¾‹ã€‚æ‰€ä»¥å®ƒä»¬æ“ä½œçš„éƒ½æ˜¯åŒä¸€ä»½çŠ¶æ€ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" b "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" b"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// true âœ…")]),t._v("\n")])])])])])}],!1,null,null,null);e.options.__file="020-piniaçŠ¶æ€ç®¡ç†.md";s.default=e.exports}}]);