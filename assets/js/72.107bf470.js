(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{512:function(t,s,n){t.exports=n.p+"assets/img/015-vue3-lifecycle.b27bd307.png"},748:function(t,s,n){"use strict";n.r(s);var a=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#_1-介绍"}},[t._v("1. 介绍")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-1-vue2-和-vue3-生命周期对比和介绍"}},[t._v("1.1 Vue2 和 Vue3 生命周期对比和介绍")])]),n("li",[n("a",{attrs:{href:"#_1-2-执行顺序"}},[t._v("1.2 执行顺序")])]),n("li",[n("a",{attrs:{href:"#_1-3生命周期图示"}},[t._v("1.3生命周期图示")])])])]),n("li",[n("a",{attrs:{href:"#_2-使用方式"}},[t._v("2. 使用方式")]),n("ul",[n("li",[n("a",{attrs:{href:"#_2-1-composition-api（推荐）"}},[t._v("2.1  Composition API（推荐）")])]),n("li",[n("a",{attrs:{href:"#_2-2-选项式-api（传统写法）"}},[t._v("2.2 选项式 API（传统写法）")])])])]),n("li",[n("a",{attrs:{href:"#_3-关键注意事项"}},[t._v("3. 关键注意事项")])]),n("li",[n("a",{attrs:{href:"#参考资料"}},[t._v("参考资料")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"vue-3-的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-3-的生命周期","aria-hidden":"true"}},[this._v("#")]),this._v(" Vue 3 的生命周期")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-1-vue2-和-vue3-生命周期对比和介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-vue2-和-vue3-生命周期对比和介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 Vue2 和 Vue3 生命周期对比和介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("生命周期整体分为四个阶段，分别是："),s("strong",[this._v("创建、挂载、更新、销毁")]),this._v("，每个阶段都有两个钩子，一前一后。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Vue2")]),this._v("的生命周期")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("blockquote",[n("p",[t._v("创建阶段："),n("code",[t._v("beforeCreate")]),t._v("、"),n("code",[t._v("created")])]),t._v(" "),n("p",[t._v("挂载阶段："),n("code",[t._v("beforeMount")]),t._v("、"),n("code",[t._v("mounted")])]),t._v(" "),n("p",[t._v("更新阶段："),n("code",[t._v("beforeUpdate")]),t._v("、"),n("code",[t._v("updated")])]),t._v(" "),n("p",[t._v("销毁阶段："),n("code",[t._v("beforeDestroy")]),t._v("、"),n("code",[t._v("destroyed")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Vue3")]),this._v("的生命周期")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("blockquote",[n("p",[t._v("创建阶段："),n("code",[t._v("setup")])]),t._v(" "),n("p",[t._v("挂载阶段："),n("code",[t._v("onBeforeMount")]),t._v("、"),n("code",[t._v("onMounted")])]),t._v(" "),n("p",[t._v("更新阶段："),n("code",[t._v("onBeforeUpdate")]),t._v("、"),n("code",[t._v("onUpdated")])]),t._v(" "),n("p",[t._v("卸载阶段："),n("code",[t._v("onBeforeUnmount")]),t._v("、"),n("code",[t._v("onUnmounted")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("常用的钩子："),s("code",[this._v("onMounted")]),this._v("(挂载完毕)、"),s("code",[this._v("onUpdated")]),this._v("(更新完毕)、"),s("code",[this._v("onBeforeUnmount")]),this._v("(卸载之前)")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[n("strong",[t._v("Vue 2 钩子")])]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[n("strong",[t._v("Vue 3 钩子（Composition API）")])]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[n("strong",[t._v("触发时机")])])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("beforeCreate")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("无（由 "),n("code",[t._v("setup()")]),t._v(" 替代）")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("组件实例初始化前，数据/方法未初始化。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("created")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("无（由 "),n("code",[t._v("setup()")]),t._v(" 替代）")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("组件实例创建完成，数据/方法已初始化，但未挂载 DOM。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("beforeMount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onBeforeMount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("组件挂载到 DOM 前执行。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("mounted")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onMounted")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("组件挂载到 DOM 后执行，可操作 DOM 或发起异步请求。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("beforeUpdate")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onBeforeUpdate")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("数据变化导致 DOM 更新前执行。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("updated")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onUpdated")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("数据变化导致 DOM 更新后执行，避免在此修改数据以免无限循环。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("beforeUnmount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onBeforeUnmount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("组件卸载前执行，用于清理定时器、取消网络请求等。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("unmounted")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onUnmounted")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("组件卸载后执行。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("errorCaptured")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onErrorCaptured")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("捕获子组件或后代组件的错误。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("activated")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onActivated")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("<keep-alive>")]),t._v(" 缓存的组件激活时调用。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("deactivated")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onDeactivated")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("<keep-alive>")]),t._v(" 缓存的组件失活时调用。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("strong",[t._v("新增调试钩子")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onRenderTracked")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("跟踪渲染依赖（调试用）。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}}),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("onRenderTriggered")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("跟踪触发重新渲染的原因（调试用）。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-2-执行顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-执行顺序","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 执行顺序")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ol",[n("li",[n("strong",[t._v("组件初始化")]),t._v(" "),n("code",[t._v("setup()")]),t._v(" → "),n("code",[t._v("onBeforeMount")]),t._v(" → "),n("code",[t._v("onMounted")])]),t._v(" "),n("li",[n("strong",[t._v("数据更新")]),t._v(" "),n("code",[t._v("onBeforeUpdate")]),t._v(" → "),n("code",[t._v("onUpdated")])]),t._v(" "),n("li",[n("strong",[t._v("组件卸载")]),t._v(" "),n("code",[t._v("onBeforeUnmount")]),t._v(" → "),n("code",[t._v("onUnmounted")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-markdown extra-class"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[this._v("初始化 → setup()\n"),s("span",{attrs:{class:"token code keyword"}},[this._v("       ↓")]),this._v("\nbeforeMount → 生成虚拟 DOM → 挂载真实 DOM → mounted\n"),s("span",{attrs:{class:"token code keyword"}},[this._v("       ↓")]),this._v("\n数据变化 → beforeUpdate → 重新渲染 → updated\n"),s("span",{attrs:{class:"token code keyword"}},[this._v("       ↓")]),this._v("\n卸载前 → beforeUnmount → 移除 DOM 和事件 → unmounted\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3生命周期图示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3生命周期图示","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3生命周期图示")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(512),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-使用方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用方式","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 使用方式")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-1-composition-api（推荐）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-composition-api（推荐）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1  Composition API（推荐）")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{attrs:{class:"token attr-name"}},[t._v("setup")]),t._v(" "),n("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),n("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{attrs:{class:"token script language-javascript"}},[t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" onMounted"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onUnmounted "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'vue'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("onMounted")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'组件已挂载'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token comment"}},[t._v("// 发起数据请求或操作 DOM")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("onUnmounted")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'组件已卸载'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token comment"}},[t._v("// 清理定时器或取消请求")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")]),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- vue2形式 --\x3e")]),t._v("\n"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),n("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{attrs:{class:"token script language-javascript"}},[t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" onMounted"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onUnmounted "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'vue'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("setup")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("onMounted")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'组件已挂载'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// 发起数据请求或操作 DOM")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")]),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-2-选项式-api（传统写法）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-选项式-api（传统写法）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 选项式 API（传统写法）")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("beforeMount")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'beforeMount'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("mounted")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'mounted'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("beforeUnmount")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'beforeUnmount'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("unmounted")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'unmounted'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_3-关键注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-关键注意事项","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. 关键注意事项")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ol",[n("li",[n("strong",[n("code",[t._v("setup()")]),t._v(" 替代 "),n("code",[t._v("beforeCreate")]),t._v(" 和 "),n("code",[t._v("created")])]),t._v("\n所有初始化逻辑应放在 "),n("code",[t._v("setup()")]),t._v(" 中，此时组件实例尚未完全创建，但可以访问 "),n("code",[t._v("props")]),t._v(" 和 "),n("code",[t._v("context")]),t._v("。")]),t._v(" "),n("li",[n("strong",[t._v("避免在 "),n("code",[t._v("updated")]),t._v(" 中修改数据")]),t._v("\n可能导致无限循环，应使用计算属性或侦听器替代。")]),t._v(" "),n("li",[n("strong",[t._v("异步操作与资源清理")]),t._v("\n在 "),n("code",[t._v("onUnmounted")]),t._v(" 中取消未完成的异步任务（如定时器、网络请求），防止内存泄漏。")]),t._v(" "),n("li",[n("strong",[t._v("调试钩子的使用场景")]),t._v(" "),n("code",[t._v("onRenderTracked")]),t._v(" 和 "),n("code",[t._v("onRenderTriggered")]),t._v(" 用于追踪渲染性能问题，生产环境建议关闭。")]),t._v(" "),n("li",[n("strong",[t._v("如果是迁移 Vue 2 项目，重点关注钩子名称的调整和 "),n("code",[t._v("setup()")]),t._v(" 的替代逻辑")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考资料")])}],e=n(0),o=Object(e.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("p"),t._m(0),n("p"),t._v(" "),n("p",[t._v("[TOC]")]),t._v(" "),t._m(1),t._v(" "),n("p",[t._v("Vue 3 的生命周期钩子与 Vue 2 类似，但部分名称有所调整，并引入了 Composition API 的新写法。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),n("p",[t._v("每个钩子介绍：")]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),n("p",[t._v("生命周期流程图：")]),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._v(" "),n("p",[n("a",{attrs:{href:"https://cn.vuejs.org/guide/essentials/lifecycle.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("图片来源"),n("OutboundLink")],1)]),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),n("p",[t._v("与 Vue 2 类似，但钩子名称需调整：")]),t._v(" "),t._m(20),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),n("p",[n("a",{attrs:{href:"https://cn.vuejs.org/guide/essentials/lifecycle.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue3 官方 生命周期文档"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"https://cn.vuejs.org/api/composition-api-lifecycle.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue3 官方 生命周期钩子 API 索引"),n("OutboundLink")],1)])])},a,!1,null,null,null);o.options.__file="004-vue3生命周期.md";s.default=o.exports}}]);