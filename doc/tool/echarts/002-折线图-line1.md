[[TOC]]

[TOC]



# æŠ˜çº¿å›¾(line)ç¤ºä¾‹

## 1. ä¸€ä¸ªæœ€åŸºæœ¬çš„æŠ˜çº¿å›¾åŠé…ç½®ä¿¡æ¯

<iframe
  :src="$withBase('/echarts-example/line/001-line-smooth.html')"
  width="100%" height="200"
  frameborder="1" scrolling="No" leftmargin="0" topmargin="0"
/>

```js
import * as echarts from 'echarts';

var chartDom = document.getElementById('main');
var myChart = echarts.init(chartDom);
var option = {
  // æ›´å¤šçš„é…ç½®ï¼šhttps://echarts.apache.org/zh/option.html#title
  // æ•´ä¸ªå›¾è¡¨çš„æ€»æ ‡é¢˜
  title: {
    text: 'æ•´ä¸ªå›¾è¡¨çš„æ ‡é¢˜',
    textStyle: { fontSize: 30 }
  },
  // å›¾è¡¨è·Ÿå®¹å™¨é—´çš„è®¾ç½®ï¼Œå¯ä»¥è°ƒèŠ‚å›¾è¡¨è·ç¦»å®¹å™¨çš„ä½ç½®
  grid: { left: 50, right: 20 /*è°ƒèŠ‚è·ç¦»å®¹å™¨è¾¹è·çš„ä½ç½®*/ },
  // æ¯æ¡æ•°æ®çš„åå­—æ ‡é¢˜è®¾ç½®ï¼Œä¸å†™åˆ™ä¸æ˜¾ç¤º
  legend: { bottom: '0%', left: 'center' },
  // é¼ æ ‡ç§»åˆ°æ¯ä¸ªæ•°æ®ä¸Šå‡ºç°æ‚¬æµ®çª—å£ï¼Œæ˜¾ç¤ºæ•°æ®ä¿¡æ¯   é¼ æ ‡hover
  tooltip: {
    trigger: 'axis', // axisç§»åˆ°Xè½´åæ ‡çº¿å°±æ˜¾ç¤º
    backgroundColor: '#000', // èƒŒæ™¯è‰²
    // æ˜¾ç¤ºæ–‡æœ¬æ ·å¼
    textStyle: {
      color: '#fff', // æ–‡å­—é¢œè‰²
      fontSize: 18, // å­—ä½“å¤§å°
    },
    formatter: function(params) {
      // triggerçš„å€¼æ˜¯axisï¼Œé‚£ä¹ˆparamsçš„å€¼å°±æ˜¯æ•°ç»„ï¼Œå¦‚æœæ˜¯triggerçš„å€¼itemï¼Œé‚£ä¹ˆparamså°±æ˜¯å•ä¸ªçš„
      // æƒ³è¦ä½¿ç”¨ tooltip çš„ formatter ä¸­çš„å…¶ä»–æ•°æ® éœ€è¦seriesé‡Œé¢çš„dataæ˜¯å¯¹è±¡
      let html = `${params[0].name} <br/>`
      params.forEach(e => {
        html += `
              <div>
                ${e.marker} <strong>${e.seriesName}</strong> <br />
                ä½¿ç”¨ä¸ªæ•°ï¼š ${e.value} <br />
                å…¶ä»–ï¼š${e.data && e.data.total || 0} <br />
              </div>
            `
      });
      return html
    }
  },
  // Xè½´åæ ‡ä¿¡æ¯è®¾ç½®
  xAxis: {
    type: 'category',
    // Xè½´æ˜¾ç¤ºçš„åæ ‡ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨'\n'ç¬¦å·è¿›è¡Œæ¢è¡Œ
    data: [
      '09:00\n07-06', '10:00\n07-06', '11:00\n07-06',
      '12:00\n07-06', '12:00\n07-06', '12:00\n07-06',
      '12:00\n07-06'
    ],
    axisLabel: {
      color: 'red', // åæ ‡é¢œè‰² #d0d7df
      // rotate: 30, // å·¦è¾¹æ—‹è½¬è§’åº¦
      // æ–‡æœ¬å†…å®¹æ˜¾ç¤ºè®¾ç½®
      formatter: function (value) {
        return value + ' ä¸ª'; // æ˜¾ç¤ºå¸¦ä¸Šå•ä½
      }
    },
    axisLine: { // Xè½´åæ ‡çº¿æ ·å¼è®¾ç½®
      lineStyle: {
        color: 'blue', // çº¿é¢œè‰² #2f3a4a
        type: 'dashed' // dashedè™šçº¿  solidå®çº¿
      }
    }
  },
  // Yè½´åæ ‡ä¿¡æ¯è®¾ç½®
  yAxis: {
    type: 'value',
    // yåæ ‡æ ·å¼è®¾ç½®
    axisLabel: {
      color: 'red', // åæ ‡é¢œè‰² #d0d7df
      rotate: 30, // å·¦è¾¹æ—‹è½¬è§’åº¦
      // æ–‡æœ¬å†…å®¹æ˜¾ç¤ºè®¾ç½®
      formatter: function (value) {
        return value + ' ä¸ª'; // æ˜¾ç¤ºå¸¦ä¸Šå•ä½
      }
    },
    splitLine: { // yè½´ç½‘æ ¼çº¿æ ·å¼è®¾ç½®
      lineStyle: {
        color: 'red', // ç½‘æ ¼çº¿é¢œè‰² #2f3a4a
        type: 'dashed' // dashedè™šçº¿  solidå®çº¿
      }
    }
  },
  // æ˜¾ç¤ºçš„æ•°æ®ç³»åˆ—ï¼Œæ¯ç§æ•°æ®éƒ½è¦æ ‡è®°æ˜¯å“ªç§ç±»å‹ï¼Œæ¯æ¡æ•°æ®çš„æ˜¾ç¤ºè®¾ç½®åœ¨è¿™é‡Œæ·»åŠ 
  series: [
    {
      name: 'æ•°æ®1', // è¿™æ¡æ•°æ®çš„åå­—
      data: [
        {value: 680, total: 3000, itemStyle: { color: '#000'}} // itemStyleï¼šå•ç‹¬è®¾ç½®è¿™ä¸ªç‚¹çš„æ ·å¼é¢œè‰²
        , 632, 501, 434, 500, 700, 1320
      ],
      type: 'line',
      smooth: true
    },
    {
      name: 'æ•°æ®2', // è¿™æ¡æ•°æ®çš„åå­—
      data: [300, 350, 500, 900, 1000, 1024, 1160],
      type: 'line',
      smooth: true
    },
  ]
};
option && myChart.setOption(option);
function aa() { myChart.resize();}
// ç›‘å¬é¡µé¢å®½åº¦å˜åŒ–ï¼Œç„¶å›¾è¡¨è‡ªåŠ¨è°ƒæ•´
window.addEventListener('resize', aa);
// åˆ é™¤ç›‘å¬äº‹ä»¶
window.removeEventListener('resize', aa)
```

[echartsç½‘ç«™åœ¨çº¿ç¤ºä¾‹](https://echarts.apache.org/examples/zh/editor.html?c=line-smooth&code=PYBwLglsB2AEC8sDeAoWsD0HaBezQWJqAhboLKJgdv6BY_wBZhggDOAXFgKYDGFAhgE5i0B07Idmya9gnAOYYAXhQyhIMXlQC2AGwDEkMKqZpM2QC6mgKjlAf2qALCIKBuA0DgFoAyMvVp31ke9GCYAPMM4Dkx8wR2PgA0rrDuXgDKYACeTsiwAGYwYJEQUkzOAMwADLAAvnr5oehYsOaA-7GAndqAFmqAL6kEgH3RJIAw_4D3yoCncoDAMYBBQeaAu7GA3Z61BICy8iR64pwQACbOSLA6id6wAKw5wbDT4lTOAEx5GABUvUO1gJ3x_WMkR9jFemWA89aAhuaADqaAdsYEgLAqgOrads0tQCwcoBMxUAmEqAwB8ZoAuTz0OnETGgcwSACNgNRgMpfDkAKQhRZMZa-FgI9ycHwFEr6WCAAnzrIBvz0ADEqPIwfQBQcoAvxUADc6AGoNAHa2gHSvQDHyi1oR9AIfygHsDdA06wUYAANyYnAcwGAqkgIHmYTA23hnF87A8EFoeLKhuNjIAGoAXeMACurWQD9foBGHWhYWRQgA1lNgABXREAYTVYl86hyYdN2EAMwGAezNAE5BYTK0MA4aaAGnNAOwWgHh9bWeVKxeKoaXSlhB_WwHzqRKViOwJM_QA5GfHC-hktBUulMrAAIwADk2ZR-gGV5QDkmoB4HTC90LyU4ynY1CVzkSfpYCmgAApBJx2MpaABKFxNqk6iDiPUEQA8CoB6M3NtBagGKEwASchut7Rz06L69ACN-LUAQZqAHPML0eJ5KueEDuMod6Plwz5voAqspGAQYSlNggDPBoAgZGAP7ygAUruEqrqhAICwAQSRiDOc6cLAgC0cgQgBuioAa3IfLAgAA6ahtBKhATC0IAM4mAEbpBAzLO7AXoAn9qAIYxiH4mAsAqKoCCwAABgAJEgT7bgA2jkAC6vDQFuTD5LAAA8yKcBgAB8cniSpfBTgAokIFCrkwCCmfuB5SWAaiwAA1IgFluW5BkzBA8qmeJ_noEpIgzpwHpKvpBm0DqMDiKZkW8Kx0wcQAcrp-QGRgiWcMlLlGeRZlheFWEsmQsBpfK7CqD6emGcZmCheFbl0WQaX8WA7CwAAZANsAiL17C8GAaINbAAA-M2wDk8WteVHWFvlQUhRVhZ-U2-Q7gA3OJnBMGAPqcHA0njkUlJlDa9qSs0egeAAgkaDCuW4MQgB2PgsLOTDiGIMQhAm2A2tCBD3RK7QdFhPgADrQD4gBk3oA78qANvxgAyEYARsaY2EY3OKp4k-DkACc9BhojOQAOwALQ5AAbHiPidjkFM5FTdOM8znaduznP00zlKFizez89ANOCzzYuUxLXNC2WnYyxzctS8L0qi-Lkvc2EGnq9eAAy7DIkwqhagexaqMGZbHTM1b2g2sDqDMOQzNTMyJOJZRFX17jZBsVKAGe65yANOmgA28YAS5GAGV6XvYKmgChilU0KPQeU6kaSC5LiusCrvVjVMHuBZucdp3nbAedNd5ZawEYPj7VS0KAGR6rIwaM4mFIWE7SobEDQB2Cy3XajqZinTaqL3TDRHE_cVZb1s-Mi-fVg6jvqHsiRZOwAAs7AVbE32-PxtAUEwdtUkfJ8zIAWmEOugtBqrMgB52g67dXegXdlAAmkPD0TOgMSvWNObaU-8foVyYCDQsZQYj2hHn_bub0jYmzNh9IsJZfC23ttYVeLs3YeyOlNP2sBch9mwMHcO0dY41hTInZO8DJwkVnBnJIWcoBwFzg1JqhcKolzOnAcBVdyS13romKEzdW6v07urWgIBx5gANhPeYVIYjWkAIr-gAeCwdHA8S48-5T3zLPdBNtT7Vg0SvWMTt16bx3nvL6P0L4mPPuwY-p8b53wfjMZ-kjpQdwpA8bAEMPiAG-fQA6EotEeIAWc8PiAF-E1C1hAAN0ReQAVyoRMAN4-gBo9XCW8T4dDAAU6oATfjOKAG_bQABUp6Ayuxd6RNCxF0LDpZQP0PidmrPk7J3wfjiQJrAapbkkDgOcAzbsAdJp9RQbkMMmxQJMGUPo_usA56lnLGGHIPh8j6TKFMmZeYmBkBgoAG6dmj5KMIATocCCZgbBVTYDMsh7E2OsTsmwt5ZC3nciZsBqZvM7DcnI4k9biVAb4XRED1Z32UKqMAFBnA6iauOdWtTpT1Mae8PYLS2m_E6QJQm4zNhZHWK8gOpNPnLM2KzPYLyuydgZppEF4Q7GAonpApstAwVokheETgMKpF6A0igfI-0gA)

## 2. æŠ˜çº¿ä¸‹åŠéƒ¨åˆ†æœ‰æ¸å˜è‰²

æ•ˆæœå¦‚ä¸‹å›¾ï¼š

![](./img/002-line1.png)

ä»£ç ï¼š

```js
import * as echarts from 'echarts';

var chartDom = document.getElementById('main');
var myChart = echarts.init(chartDom);

const option = {
  grid: {
    left: 10,
    right: 10,
    top: 30,
    bottom: 30,
    containLabel: true
  },
  xAxis: {
    type: 'category',
    boundaryGap: false,
    data: ['06-16', '06-17', '06-18', '06-19', '06-20', '06-21', '06-22'],
    axisLine: { lineStyle: { color: '#999' } },
    axisTick: { show: false }
  },
  yAxis: {
    type: 'value',
    axisLine: { show: false },
    axisTick: { show: false },
    splitLine: { lineStyle: { color: '#eee' } }
  },
  // é¼ æ ‡ç§»åˆ°æ¯ä¸ªæ•°æ®ä¸Šå‡ºç°æ‚¬æµ®çª—å£ï¼Œæ˜¾ç¤ºæ•°æ®ä¿¡æ¯   é¼ æ ‡hover
  tooltip: {
    trigger: 'axis'
  },
  series: [{
    name: 'æ•°æ®',
    type: 'line',
    smooth: true, // å¹³æ»‘æ›²çº¿
    data: [40, 80, 60, 100, 90, 110, 125],
    // è®¾ç½®æ•°æ®ç‚¹æ˜¾ç¤ºåœ†ç‚¹
    symbol: 'circle',
    symbolSize: 8,
    // æ¯ä¸ªæ•°æ®ç‚¹çš„æ ·å¼ï¼Œéœ€è¦è®¾ç½®symbol: 'circle',æ‰ä¼šç”Ÿæ•ˆ
    itemStyle: {
      color: '#fff',          // æ•°æ®ç‚¹é¢œè‰²
      borderColor: '#1890ff', // æ•°æ®ç‚¹è¾¹æ¡†é¢œè‰²
      borderWidth: 2          // æ•°æ®ç‚¹è¾¹æ¡†å®½åº¦
    },
    // ç‚¹å’Œç‚¹ä¹‹é—´çš„è¿çº¿æ ·å¼
    lineStyle: {
      color: '#1890ff',       // è¿çº¿é¢œè‰²
      width: 2                // è¿çº¿å®½åº¦
    },
    areaStyle: {
      // æ¸å˜å¡«å……
      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
        { offset: 0, color: 'rgba(24,144,255,0.5)' },
        { offset: 1, color: 'rgba(24,144,255,0)' }
      ])
    }
  }]
};
```

[åœ¨çº¿ä¾‹å­æ•ˆæœ åæœŸå¯èƒ½ä¼šå¤±æ•ˆ](https://echarts.apache.org/examples/zh/editor.html?c=area-basic&code=PYBwLglsB2AEC8sDeAoWsDmAnCATAXMmurADYCmAZmIQIwAMANMejhgBY2wPMmxihCAZiYtYAI2BgBAW2Gi-AYxhgAhhGgAZVePKlCYLAFdyxAL69YADwCCViAGdCqPmACeIcoQDki1WHIMYCw3b0t0SSNoXFUQgHFVEEJKVVIHcnDYGLVCAG1vegA2AFpaQrDYApLaAHYKqtKADnqi0oBOFpKAJnpO4q7aPq6u7wBdTNV7B00NL2QyWYBldwpnWGVSYJ8AYja971gzQ4mpgBUIRQBrNYd2YAB3ZNT0w_NLNztHZzF3Tx8AN1SJjCYkmjhm0DmSFgtweTzS5GOoLOF2u81hj1gKQRSL4DhApAgYAhUIWkOWblW8w2W0q23IDIORzMb2IAHo2bBAAT5gHALQDfnoAGJUA89aAKjlAA6mgDtjQBQcoAvxUADc6AGoNAHa2gHSvQDHyoAYf8AfGaALk9JYBD-UA9gYkXl3f7kLDEATAUiQJJEVxsDAWnxghzeVnodI4chOWC5FwkaCqGRzbySkGuDxhwmQyMkBwyYBSdgGYwZWAc2CAZz1AIt2gCezQD9fmJsqo8gAWJiwRpVwpVhhVtr1njcLoAVnGYizgD7owB2_pLAJ0OusAYOoDsQONwyST6SqKCBYRQUeNeyfTxYQABec0amSzosHgBC3QDsFoB4fQ1gAB0wCBkX2J1ObT45wul4xALJGgCx5QD4roAJUzERPIMgpKlAyUG1aW8bZKEgio-BgrNB0AHIzACcgsQImCXALQAYVArAdloRomygxhM05QdAE74wAxCyQlCJDQi0AHU8DAVNYC6GDYJIiUBwowBe7UAMr0xAsLtOQHQAYlQHQBpOUAF9SD0APfjC1PMRY3IQCoWomkcLpPCCMoaD2NgOSqLY-5GOY1i2PM9AszkviBImLByFUFTvjYrNAAQ7QAN5UAaw1AFFFNTsMISF7lgchFHYWIwAcAA6bBEnYC5IpJWI4iwVRcAgchoDAAAKKtcqI2giNyaj0GhYBIPSLgq3UnwsAwcRVCyrpy0YWhy2a9s20YehIrbABKJlMj4UryvILgCvWfzKlq-rGua1r2rbTr6H6142NGXqBPMUYUDMABuIA)

<iframe
  :src="$withBase('/echarts-example/line/002-line-shadow.html')"
  width="100%" height="200"
  frameborder="1" scrolling="No" leftmargin="0" topmargin="0"
/>



## 3. æŠ˜çº¿é¦–å°¾ç›¸è¿è·ŸæŠ˜çº¿éƒ¨åˆ†åŒºåŸŸæœ‰é¢œè‰²

æ•ˆæœå›¾ç‰‡ï¼š

![](./img/002-line2.png)

ä»£ç ï¼š

```js
const dom = document.getElementById('chart');
const myChart = echarts.init(dom);

const xData = ['A','B','C','D','E','F','G','H','I','J','K','L'];
const actual  = [380,295,220,350,385,405,520,530,660,800,830,550];
const bars    = [360,380,400,430,460,480,500,510,530,600,650,680];

const n = actual.length;
const start = actual[0];
const end = actual[n-1];

const option = {
  backgroundColor: '#1c2c48',
  grid: { left: '6%', right: '6%', bottom: '14%', containLabel: true },
  tooltip: {
    trigger: 'axis',
    axisPointer: { type: 'line' },
    formatter: function (params) {
      // ğŸš« è¿‡æ»¤æ‰é¦–å°¾ç›´çº¿
      const showList = params.filter(p => p.seriesName !== 'é¦–å°¾ç›´çº¿');

      // X è½´åç§°
      let html = `${showList[0].name} <br/>`
      showList.forEach(e => {
        // æ•°æ®é¢œè‰²ç‚¹ æ•°æ®åå­— æ•°æ®å€¼
        // html += `${e.marker} ${e.seriesName}: ${e.value} <br />`
        html += `
              <div>
                ${e.marker} <strong>${e.seriesName}</strong> <br />
                ä½¿ç”¨ä¸ªæ•°ï¼š ${e.value} <br />
                å…¶ä»–ï¼š${e.data && e.data.total || 0} <br />
              </div>
            `
      });
      return html
    }
  },
  xAxis: {
    type: 'category',
    data: xData,
    axisLabel: { color: '#d0d7df', rotate: 35 },
    axisLine: { lineStyle: { color: '#3f536c' } }
  },
  yAxis: {
    type: 'value',
    axisLabel: { color: '#d0d7df' },
    splitLine: { lineStyle: { color: '#2f3a4a' } }
  },
  series: [
    {
      name: 'æŸ±çŠ¶å›¾',
      type: 'bar',
      data: bars,
      barWidth: 14,
      itemStyle: { color: '#4a90e2' },
      z: 0
    },
    {
      name: 'çœŸå®æŠ˜çº¿',
      type: 'line',
      data: actual,
      smooth: false,
      symbol: 'circle',
      symbolSize: 6,
      itemStyle: {
        color: '#ff8a4c',
        borderColor: '#1c2c48',
        borderWidth: 2
      },
      lineStyle: { color: '#ff8a4c', width: 2 },
      z: 3
    },
    {
      name: 'é¦–å°¾ç›´çº¿',
      type: 'line',
      data: [start, null, null, null, null, null, null, null, null, null, null, end],
      connectNulls: true,
      symbol: 'none',
      lineStyle: {
        color: 'rgba(255,255,255,0.4)',
        width: 1,
        type: 'solid'
      },
      tooltip: { show: false }, // ğŸš« ç¦æ­¢å•ç‹¬ hover æ—¶æ˜¾ç¤º
      z: 2
    }
  ]
};

myChart.setOption(option);

// --- ç»˜åˆ¶é˜´å½±åŒºåŸŸ ---
function updatePolygon() {
  const coords = actual.map((y, i) =>
                            myChart.convertToPixel({xAxisIndex:0,yAxisIndex:0}, [xData[i], y])
                           );
  const startCoord = myChart.convertToPixel({xAxisIndex:0,yAxisIndex:0}, [xData[0], start]);
  const endCoord   = myChart.convertToPixel({xAxisIndex:0,yAxisIndex:0}, [xData[n-1], end]);
  const polygonPoints = [...coords, endCoord, startCoord];

  myChart.setOption({
    graphic: {
      type: 'polygon',
      shape: { points: polygonPoints },
      style: { fill: 'rgba(255,138,76,0.22)', stroke: 'none' },
      z: 1
    }
  });
}

// å¤šæ¬¡æ¸²æŸ“éœ€è¦ç§»å‡ºç›‘å¬äº‹ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼šshould not be called during main process
myChart.off('finished');
// ç›‘å¬å›¾è¡¨æ¸²æŸ“å®Œæˆäº‹ä»¶
myChart.on('finished', updatePolygon);
// myChart.on('finished', () => {
//   updatePolygon(); // è¿™ä¹ˆå†™å¯ä»¥ä¼ å‚
// });
window.addEventListener('resize', () => {
  myChart.resize();
  updatePolygon();
});
```

<iframe
  :src="$withBase('/echarts-example/line/002-line3.html')"
  width="100%" height="250"
  frameborder="1" scrolling="No" leftmargin="0" topmargin="0"
/>

## 4. å¤šä¸ªæŠ˜çº¿é¦–å°¾ç›¸è¿é˜´å½±

æ•ˆæœå›¾ç‰‡ï¼š

![](./img/002-line3.png)

ä»£ç ï¼šæµè§ˆå™¨ä¸­æ§åˆ¶å°æŸ¥çœ‹ä¸‹é¢iframeæºä»£ç 

åœ¨çº¿æ•ˆæœï¼š

<iframe
  :src="$withBase('/echarts-example/line/002-line4.html')"
  width="100%" height="300"
  frameborder="1" scrolling="No" leftmargin="0" topmargin="0"
/>

