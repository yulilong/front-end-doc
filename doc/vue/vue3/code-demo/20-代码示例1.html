<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä»£ç ç¤ºä¾‹1 | å‰ç«¯çŸ¥è¯†</title>
    <meta name="description" content="ä¸€ä¸ªæ€»ç»“å‰ç«¯çŸ¥è¯†çš„æ–‡æ¡£ç½‘ç«™">
    <link rel="icon" href="/logo.png">
  <script defer="defer" src="/static/jquery.slim.min.js"></script>
  <script defer="defer" src="/static/jquery.fancybox.min.js"></script>
  <link defer="defer" rel="stylesheet" type="text/css" href="/static/jquery.fancybox.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.76f153c4.css" as="style"><link rel="preload" href="/assets/js/app.2afb8482.js" as="script"><link rel="preload" href="/assets/js/77.90e5533f.js" as="script"><link rel="prefetch" href="/assets/js/10.0ef1013d.js"><link rel="prefetch" href="/assets/js/100.59669d01.js"><link rel="prefetch" href="/assets/js/101.741c2686.js"><link rel="prefetch" href="/assets/js/102.47149e7d.js"><link rel="prefetch" href="/assets/js/103.f1eaf177.js"><link rel="prefetch" href="/assets/js/104.f23808ff.js"><link rel="prefetch" href="/assets/js/105.f5bdad72.js"><link rel="prefetch" href="/assets/js/106.b8157b10.js"><link rel="prefetch" href="/assets/js/107.a275a057.js"><link rel="prefetch" href="/assets/js/108.4906ec1c.js"><link rel="prefetch" href="/assets/js/109.b21c5677.js"><link rel="prefetch" href="/assets/js/11.3ee5972a.js"><link rel="prefetch" href="/assets/js/110.11790a6f.js"><link rel="prefetch" href="/assets/js/111.519e46a2.js"><link rel="prefetch" href="/assets/js/112.856c72b2.js"><link rel="prefetch" href="/assets/js/113.1a9718fd.js"><link rel="prefetch" href="/assets/js/114.98562c57.js"><link rel="prefetch" href="/assets/js/115.dd09f294.js"><link rel="prefetch" href="/assets/js/116.3e697856.js"><link rel="prefetch" href="/assets/js/117.9ed54de6.js"><link rel="prefetch" href="/assets/js/118.837075a7.js"><link rel="prefetch" href="/assets/js/119.eeb7356e.js"><link rel="prefetch" href="/assets/js/12.ef92ad8b.js"><link rel="prefetch" href="/assets/js/120.d76e8c70.js"><link rel="prefetch" href="/assets/js/121.5490f8be.js"><link rel="prefetch" href="/assets/js/122.bf95df47.js"><link rel="prefetch" href="/assets/js/123.1246f4df.js"><link rel="prefetch" href="/assets/js/124.1b332371.js"><link rel="prefetch" href="/assets/js/125.e968eefc.js"><link rel="prefetch" href="/assets/js/126.41b0b42d.js"><link rel="prefetch" href="/assets/js/127.8d532027.js"><link rel="prefetch" href="/assets/js/128.e3d0dd45.js"><link rel="prefetch" href="/assets/js/129.2eec7742.js"><link rel="prefetch" href="/assets/js/13.5d83ca59.js"><link rel="prefetch" href="/assets/js/130.184a5326.js"><link rel="prefetch" href="/assets/js/131.55d5602a.js"><link rel="prefetch" href="/assets/js/132.0739ad32.js"><link rel="prefetch" href="/assets/js/133.eb282834.js"><link rel="prefetch" href="/assets/js/134.9df36c58.js"><link rel="prefetch" href="/assets/js/135.6d3b3c22.js"><link rel="prefetch" href="/assets/js/136.f6fc5239.js"><link rel="prefetch" href="/assets/js/137.13c0c004.js"><link rel="prefetch" href="/assets/js/138.d9558cc8.js"><link rel="prefetch" href="/assets/js/139.450241fe.js"><link rel="prefetch" href="/assets/js/14.bb2ca207.js"><link rel="prefetch" href="/assets/js/140.e1bf74b6.js"><link rel="prefetch" href="/assets/js/141.b02477b9.js"><link rel="prefetch" href="/assets/js/142.2d68a06d.js"><link rel="prefetch" href="/assets/js/143.c47820a5.js"><link rel="prefetch" href="/assets/js/144.17e6f31d.js"><link rel="prefetch" href="/assets/js/145.2e8592c6.js"><link rel="prefetch" href="/assets/js/146.720781fb.js"><link rel="prefetch" href="/assets/js/147.bf3ed75b.js"><link rel="prefetch" href="/assets/js/148.9505073e.js"><link rel="prefetch" href="/assets/js/149.f9dd6c7c.js"><link rel="prefetch" href="/assets/js/15.16c14ea6.js"><link rel="prefetch" href="/assets/js/150.90a127d0.js"><link rel="prefetch" href="/assets/js/151.9d50afd2.js"><link rel="prefetch" href="/assets/js/152.fbecf0f6.js"><link rel="prefetch" href="/assets/js/153.32c2bb94.js"><link rel="prefetch" href="/assets/js/154.3c5424d9.js"><link rel="prefetch" href="/assets/js/155.4587c969.js"><link rel="prefetch" href="/assets/js/156.b40288c2.js"><link rel="prefetch" href="/assets/js/157.edd410f1.js"><link rel="prefetch" href="/assets/js/158.ada22e21.js"><link rel="prefetch" href="/assets/js/159.ae4e1769.js"><link rel="prefetch" href="/assets/js/16.70266c95.js"><link rel="prefetch" href="/assets/js/160.1c2e95e3.js"><link rel="prefetch" href="/assets/js/161.764559ae.js"><link rel="prefetch" href="/assets/js/162.f3834de5.js"><link rel="prefetch" href="/assets/js/163.17919df8.js"><link rel="prefetch" href="/assets/js/164.a9b1a7d4.js"><link rel="prefetch" href="/assets/js/165.e649e97a.js"><link rel="prefetch" href="/assets/js/166.02532372.js"><link rel="prefetch" href="/assets/js/167.7d112130.js"><link rel="prefetch" href="/assets/js/168.90c0dfba.js"><link rel="prefetch" href="/assets/js/169.d313ed3c.js"><link rel="prefetch" href="/assets/js/17.1f842ac0.js"><link rel="prefetch" href="/assets/js/170.4d971d67.js"><link rel="prefetch" href="/assets/js/171.6a5296d2.js"><link rel="prefetch" href="/assets/js/172.388c5f2d.js"><link rel="prefetch" href="/assets/js/173.8724128a.js"><link rel="prefetch" href="/assets/js/174.0bee9e04.js"><link rel="prefetch" href="/assets/js/175.0e539288.js"><link rel="prefetch" href="/assets/js/176.69aebc77.js"><link rel="prefetch" href="/assets/js/177.e321e16b.js"><link rel="prefetch" href="/assets/js/178.7a6767c2.js"><link rel="prefetch" href="/assets/js/179.b1cd3d26.js"><link rel="prefetch" href="/assets/js/18.958e91d3.js"><link rel="prefetch" href="/assets/js/180.aa4e26e5.js"><link rel="prefetch" href="/assets/js/181.373fea9f.js"><link rel="prefetch" href="/assets/js/182.00faf1e3.js"><link rel="prefetch" href="/assets/js/183.f5084718.js"><link rel="prefetch" href="/assets/js/184.d853e461.js"><link rel="prefetch" href="/assets/js/185.b0233d58.js"><link rel="prefetch" href="/assets/js/186.46563f8c.js"><link rel="prefetch" href="/assets/js/187.8f099752.js"><link rel="prefetch" href="/assets/js/188.3d2adfff.js"><link rel="prefetch" href="/assets/js/189.56085996.js"><link rel="prefetch" href="/assets/js/19.29243772.js"><link rel="prefetch" href="/assets/js/190.74ee9249.js"><link rel="prefetch" href="/assets/js/191.2912c7b3.js"><link rel="prefetch" href="/assets/js/192.816999ff.js"><link rel="prefetch" href="/assets/js/193.66e79d51.js"><link rel="prefetch" href="/assets/js/194.a0aef591.js"><link rel="prefetch" href="/assets/js/195.ca729864.js"><link rel="prefetch" href="/assets/js/196.5f2550df.js"><link rel="prefetch" href="/assets/js/197.53a5a951.js"><link rel="prefetch" href="/assets/js/198.9b7fd80a.js"><link rel="prefetch" href="/assets/js/199.7d76d45a.js"><link rel="prefetch" href="/assets/js/20.65ee3cb2.js"><link rel="prefetch" href="/assets/js/200.beed8c2d.js"><link rel="prefetch" href="/assets/js/201.60704fe0.js"><link rel="prefetch" href="/assets/js/202.0f40a335.js"><link rel="prefetch" href="/assets/js/203.c4a08479.js"><link rel="prefetch" href="/assets/js/204.f281776c.js"><link rel="prefetch" href="/assets/js/205.486b8447.js"><link rel="prefetch" href="/assets/js/206.b9d6473d.js"><link rel="prefetch" href="/assets/js/207.0100e25c.js"><link rel="prefetch" href="/assets/js/208.1f4aeb54.js"><link rel="prefetch" href="/assets/js/209.421e2a33.js"><link rel="prefetch" href="/assets/js/21.f02a2061.js"><link rel="prefetch" href="/assets/js/210.1c1f9f92.js"><link rel="prefetch" href="/assets/js/211.033ec43d.js"><link rel="prefetch" href="/assets/js/212.eaedd29f.js"><link rel="prefetch" href="/assets/js/213.8fa26e5f.js"><link rel="prefetch" href="/assets/js/214.b09ab61f.js"><link rel="prefetch" href="/assets/js/215.ba27a46e.js"><link rel="prefetch" href="/assets/js/216.3d36839f.js"><link rel="prefetch" href="/assets/js/217.c408db8c.js"><link rel="prefetch" href="/assets/js/218.8d420404.js"><link rel="prefetch" href="/assets/js/219.024c3aff.js"><link rel="prefetch" href="/assets/js/22.77807269.js"><link rel="prefetch" href="/assets/js/220.5cd1fed8.js"><link rel="prefetch" href="/assets/js/221.c8398355.js"><link rel="prefetch" href="/assets/js/222.eee93b67.js"><link rel="prefetch" href="/assets/js/223.890a46b1.js"><link rel="prefetch" href="/assets/js/224.af9ae0f2.js"><link rel="prefetch" href="/assets/js/225.64543242.js"><link rel="prefetch" href="/assets/js/226.67eb4e8b.js"><link rel="prefetch" href="/assets/js/227.9dea1e95.js"><link rel="prefetch" href="/assets/js/228.9fd3cd8c.js"><link rel="prefetch" href="/assets/js/229.e3bb4f30.js"><link rel="prefetch" href="/assets/js/23.04033c47.js"><link rel="prefetch" href="/assets/js/230.fd5e90a4.js"><link rel="prefetch" href="/assets/js/231.77d39633.js"><link rel="prefetch" href="/assets/js/232.0fb9b697.js"><link rel="prefetch" href="/assets/js/233.9fd67d1e.js"><link rel="prefetch" href="/assets/js/234.df71f2f9.js"><link rel="prefetch" href="/assets/js/235.72c89c6a.js"><link rel="prefetch" href="/assets/js/236.71d9c1f7.js"><link rel="prefetch" href="/assets/js/237.291e0d2b.js"><link rel="prefetch" href="/assets/js/238.39113381.js"><link rel="prefetch" href="/assets/js/239.468bdffb.js"><link rel="prefetch" href="/assets/js/24.d5ebdf50.js"><link rel="prefetch" href="/assets/js/240.6a6ca3de.js"><link rel="prefetch" href="/assets/js/241.f9a26874.js"><link rel="prefetch" href="/assets/js/242.9d8553eb.js"><link rel="prefetch" href="/assets/js/25.56b8443d.js"><link rel="prefetch" href="/assets/js/26.c90580d1.js"><link rel="prefetch" href="/assets/js/27.ec93c7fa.js"><link rel="prefetch" href="/assets/js/28.38543972.js"><link rel="prefetch" href="/assets/js/29.2d9ac121.js"><link rel="prefetch" href="/assets/js/3.9c9ba874.js"><link rel="prefetch" href="/assets/js/30.566c00ec.js"><link rel="prefetch" href="/assets/js/31.840c7368.js"><link rel="prefetch" href="/assets/js/32.085a9b53.js"><link rel="prefetch" href="/assets/js/33.2568f008.js"><link rel="prefetch" href="/assets/js/34.c693b23c.js"><link rel="prefetch" href="/assets/js/35.0b12ec66.js"><link rel="prefetch" href="/assets/js/36.5de34291.js"><link rel="prefetch" href="/assets/js/37.316e55e2.js"><link rel="prefetch" href="/assets/js/38.fedb1c7b.js"><link rel="prefetch" href="/assets/js/39.3903f3e4.js"><link rel="prefetch" href="/assets/js/4.e2e10cba.js"><link rel="prefetch" href="/assets/js/40.b458a04d.js"><link rel="prefetch" href="/assets/js/41.51efbc84.js"><link rel="prefetch" href="/assets/js/42.5c079c5c.js"><link rel="prefetch" href="/assets/js/43.d67826ec.js"><link rel="prefetch" href="/assets/js/44.e4379bb2.js"><link rel="prefetch" href="/assets/js/45.d1573aa8.js"><link rel="prefetch" href="/assets/js/46.9ed06d3b.js"><link rel="prefetch" href="/assets/js/47.44c98776.js"><link rel="prefetch" href="/assets/js/48.8bcc4819.js"><link rel="prefetch" href="/assets/js/49.ad20e965.js"><link rel="prefetch" href="/assets/js/5.9862dc9a.js"><link rel="prefetch" href="/assets/js/50.e8fde2ac.js"><link rel="prefetch" href="/assets/js/51.73d7229f.js"><link rel="prefetch" href="/assets/js/52.250dc5fe.js"><link rel="prefetch" href="/assets/js/53.f604ad65.js"><link rel="prefetch" href="/assets/js/54.1c7de7b1.js"><link rel="prefetch" href="/assets/js/55.4d268d71.js"><link rel="prefetch" href="/assets/js/56.9da1ef8f.js"><link rel="prefetch" href="/assets/js/57.5a47f404.js"><link rel="prefetch" href="/assets/js/58.f02f1dd9.js"><link rel="prefetch" href="/assets/js/59.866dce11.js"><link rel="prefetch" href="/assets/js/6.ab1c77d5.js"><link rel="prefetch" href="/assets/js/60.b747b975.js"><link rel="prefetch" href="/assets/js/61.dbd99295.js"><link rel="prefetch" href="/assets/js/62.64069c98.js"><link rel="prefetch" href="/assets/js/63.ed8b0dd0.js"><link rel="prefetch" href="/assets/js/64.3acd796b.js"><link rel="prefetch" href="/assets/js/65.b9dbfb42.js"><link rel="prefetch" href="/assets/js/66.61b81117.js"><link rel="prefetch" href="/assets/js/67.8d82f096.js"><link rel="prefetch" href="/assets/js/68.e3a8f010.js"><link rel="prefetch" href="/assets/js/69.4f199ada.js"><link rel="prefetch" href="/assets/js/7.32aa26cb.js"><link rel="prefetch" href="/assets/js/70.5b5eccfe.js"><link rel="prefetch" href="/assets/js/71.a19b24f5.js"><link rel="prefetch" href="/assets/js/72.01636d1f.js"><link rel="prefetch" href="/assets/js/73.4ea8ca9c.js"><link rel="prefetch" href="/assets/js/74.624abc0f.js"><link rel="prefetch" href="/assets/js/75.7e0202b6.js"><link rel="prefetch" href="/assets/js/76.7aaabc49.js"><link rel="prefetch" href="/assets/js/78.3758ee0d.js"><link rel="prefetch" href="/assets/js/79.15d46be1.js"><link rel="prefetch" href="/assets/js/8.cdadef6d.js"><link rel="prefetch" href="/assets/js/80.952bd008.js"><link rel="prefetch" href="/assets/js/81.3f570b43.js"><link rel="prefetch" href="/assets/js/82.62e50e74.js"><link rel="prefetch" href="/assets/js/83.3bf5ea27.js"><link rel="prefetch" href="/assets/js/84.e89c9df3.js"><link rel="prefetch" href="/assets/js/85.b9ec2ec1.js"><link rel="prefetch" href="/assets/js/86.cf032aea.js"><link rel="prefetch" href="/assets/js/87.5b38d42a.js"><link rel="prefetch" href="/assets/js/88.95904b6f.js"><link rel="prefetch" href="/assets/js/89.700238a1.js"><link rel="prefetch" href="/assets/js/9.b8b9f88e.js"><link rel="prefetch" href="/assets/js/90.3371b61c.js"><link rel="prefetch" href="/assets/js/91.5ac22d50.js"><link rel="prefetch" href="/assets/js/92.5edf548a.js"><link rel="prefetch" href="/assets/js/93.7c2caa65.js"><link rel="prefetch" href="/assets/js/94.af97350f.js"><link rel="prefetch" href="/assets/js/95.977e351c.js"><link rel="prefetch" href="/assets/js/96.783365c1.js"><link rel="prefetch" href="/assets/js/97.1c56ba20.js"><link rel="prefetch" href="/assets/js/98.8bec8d2e.js"><link rel="prefetch" href="/assets/js/99.30c76886.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.102ccaf5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.76f153c4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="å‰ç«¯çŸ¥è¯†" class="logo"> <span class="site-name can-hide">å‰ç«¯çŸ¥è¯†</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/catalog.html" class="nav-link">ç›®å½•</a></div><div class="nav-item"><a href="/doc/es6/" class="nav-link">ES6</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/js/" class="nav-link">js</a></li><li class="dropdown-item"><!----> <a href="/doc/js/standardLibrary/" class="nav-link">jsæ ‡å‡†åº“</a></li><li class="dropdown-item"><!----> <a href="/doc/dom/" class="nav-link">domæ“ä½œæ–‡æ¡£</a></li><li class="dropdown-item"><!----> <a href="/doc/designPattern/" class="nav-link">è®¾è®¡æ¨¡å¼</a></li></ul></div></div><div class="nav-item"><a href="/doc/browserNetwork/" class="nav-link">æµè§ˆå™¨</a></div><div class="nav-item"><a href="/doc/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/doc/react/" class="nav-link">react</a></div><div class="nav-item"><a href="/doc/vue/" class="nav-link router-link-active">vue</a></div><div class="nav-item"><a href="/doc/typeScript/" class="nav-link">TypeScript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/doc/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/doc/tool/" class="nav-link">å·¥å…·</a></li><li class="dropdown-item"><!----> <a href="/doc/tool/echarts/" class="nav-link">echarts</a></li><li class="dropdown-item"><!----> <a href="/doc/problem/" class="nav-link">å¸¸è§é—®é¢˜</a></li></ul></div></div> <a href="https://github.com/yulilong/front-end-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/catalog.html" class="nav-link">ç›®å½•</a></div><div class="nav-item"><a href="/doc/es6/" class="nav-link">ES6</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/js/" class="nav-link">js</a></li><li class="dropdown-item"><!----> <a href="/doc/js/standardLibrary/" class="nav-link">jsæ ‡å‡†åº“</a></li><li class="dropdown-item"><!----> <a href="/doc/dom/" class="nav-link">domæ“ä½œæ–‡æ¡£</a></li><li class="dropdown-item"><!----> <a href="/doc/designPattern/" class="nav-link">è®¾è®¡æ¨¡å¼</a></li></ul></div></div><div class="nav-item"><a href="/doc/browserNetwork/" class="nav-link">æµè§ˆå™¨</a></div><div class="nav-item"><a href="/doc/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/doc/react/" class="nav-link">react</a></div><div class="nav-item"><a href="/doc/vue/" class="nav-link router-link-active">vue</a></div><div class="nav-item"><a href="/doc/typeScript/" class="nav-link">TypeScript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/doc/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/doc/tool/" class="nav-link">å·¥å…·</a></li><li class="dropdown-item"><!----> <a href="/doc/tool/echarts/" class="nav-link">echarts</a></li><li class="dropdown-item"><!----> <a href="/doc/problem/" class="nav-link">å¸¸è§é—®é¢˜</a></li></ul></div></div> <a href="https://github.com/yulilong/front-end-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/doc/vue/001-vueé‡åˆ°çš„é—®é¢˜.html" class="sidebar-link">VUEé‡åˆ°çš„é—®é¢˜</a></li><li><a href="/doc/vue/002-vueå¸¸ç”¨è¯­æ³•.html" class="sidebar-link">VUEå¸¸ç”¨è¯­æ³•</a></li><li><a href="/doc/vue/003-vueæ•™ç¨‹.html" class="sidebar-link">vueæ•™ç¨‹</a></li><li><a href="/doc/vue/004-vueç”Ÿå‘½å‘¨æœŸ.html" class="sidebar-link">vue ç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="/doc/vue/005-vueæŒ‡ä»¤.html" class="sidebar-link">vueæŒ‡ä»¤</a></li><li><a href="/doc/vue/006-vue-scoped-css.html" class="sidebar-link">vue Scoped CSS</a></li><li><a href="/doc/vue/007-vueè®¿é—®æ ¹çˆ¶å­ç»„ä»¶-ä¾èµ–æ³¨å…¥.html" class="sidebar-link">vueè®¿é—®æ ¹ç»„ä»¶ã€çˆ¶ç»„ä»¶ã€å­ç»„ä»¶ã€ä¾èµ–æ³¨å…¥</a></li><li><a href="/doc/vue/008-vueçŸ¥è¯†ç‚¹æ€ç»´å¯¼å›¾.html" class="sidebar-link">vueçŸ¥è¯†ç‚¹æ€ç»´å¯¼å›¾</a></li><li><a href="/doc/vue/009-vuexä½¿ç”¨æ–‡æ¡£.html" class="sidebar-link">Vuex ä½¿ç”¨è¯´æ˜</a></li><li><a href="/doc/vue/010-vue-cliä½¿ç”¨æ–‡æ¡£.html" class="sidebar-link">Vue CLIä½¿ç”¨æ–‡æ¡£</a></li><li><a href="/doc/vue/011-routerä½¿ç”¨ç›¸å…³.html" class="sidebar-link">routerä½¿ç”¨ç›¸å…³</a></li><li><a href="/doc/vue/012-ä¸€ä¸ªvueç»„ä»¶ä»£ç å†™æ³•.html" class="sidebar-link">ä¸€ä¸ªvueç»„ä»¶ä»£ç å†™æ³•</a></li><li><a href="/doc/vue/013-vueçš„diffç®—æ³•è¯¦è§£.html" class="sidebar-link">Vue diffç®—æ³•è¯¦è§£</a></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>VUE3</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/doc/vue/vue3/" class="sidebar-link">ç®€ä»‹</a></li><li><a href="/doc/vue/vue3/001-vue3å¼€å‘é‡åˆ°çš„é—®é¢˜.html" class="sidebar-link">VUE3 å¼€å‘é‡åˆ°çš„é—®é¢˜</a></li><li><a href="/doc/vue/vue3/002-vue3æ ¸å¿ƒè¯­æ³•.html" class="sidebar-link">VUE3æ ¸å¿ƒè¯­æ³•</a></li><li><a href="/doc/vue/vue3/003-vue3å…¶ä»–APIå’Œæ–°ç»„ä»¶.html" class="sidebar-link">Vue 3 å…¶ä»–APIå’Œæ–°ç»„ä»¶</a></li><li><a href="/doc/vue/vue3/004-vue3ç”Ÿå‘½å‘¨æœŸ.html" class="sidebar-link">Vue 3 çš„ç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="/doc/vue/vue3/005-vue3ç»„ä»¶é€šä¿¡.html" class="sidebar-link">ç»„ä»¶é€šä¿¡</a></li><li><a href="/doc/vue/vue3/006-vue3äº‹ä»¶.html" class="sidebar-link">äº‹ä»¶</a></li><li><a href="/doc/vue/vue3/007-vue3å¸¸ç”¨è¯­æ³•.html" class="sidebar-link">vue3ä¸­å¸¸ç”¨è¯­æ³•</a></li><li><a href="/doc/vue/vue3/009-vue3å•æ–‡ä»¶CSS.html" class="sidebar-link">Vue3 å•æ–‡ä»¶ç»„ä»¶ CSS åŠŸèƒ½</a></li><li><a href="/doc/vue/vue3/019-vue-router4.x.html" class="sidebar-link">vue3çš„è·¯ç”±vue-router4.x.x</a></li><li><a href="/doc/vue/vue3/020-piniaçŠ¶æ€ç®¡ç†.html" class="sidebar-link">Pinia - çŠ¶æ€ç®¡ç†</a></li><li><a href="/doc/vue/vue3/099-vite.html" class="sidebar-link">vite è¶…å¿«çš„å‰ç«¯æ„å»ºå·¥å…·</a></li><li><a href="/doc/vue/vue3/100-æ–°å»ºvue3é¡¹ç›®åŠç›¸å…³é—®é¢˜.html" class="sidebar-link">æ–°å»ºvue3é¡¹ç›®åŠç›¸å…³é—®é¢˜</a></li><li><a href="/doc/vue/vue3/101-viteå…³äºä½ç‰ˆæœ¬æµè§ˆå™¨çš„æ”¯æŒ.html" class="sidebar-link">viteå¯¹äºä½ç‰ˆæœ¬çš„æµè§ˆå™¨æ”¯æŒå¤„ç†</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>vue3ä»£ç ç¤ºä¾‹</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/doc/vue/vue3/code-demo/" class="sidebar-link">ç®€ä»‹</a></li><li><a href="/doc/vue/vue3/code-demo/01-element-plusç»„ä»¶ä»£ç ç¤ºä¾‹1.html" class="sidebar-link">element-plus ä»£ç ç¤ºä¾‹</a></li><li><a href="/doc/vue/vue3/code-demo/20-ä»£ç ç¤ºä¾‹1.html" class="one-level one-level-active active sidebar-link">ä»£ç ç¤ºä¾‹1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/vue/vue3/code-demo/20-ä»£ç ç¤ºä¾‹1.html#_1-æ‹¦æˆªaé“¾æ¥å˜æˆjsä»£ç å¤„ç†" class="sidebar-link">1. æ‹¦æˆªaé“¾æ¥å˜æˆJSä»£ç å¤„ç†</a></li><li class="sidebar-sub-header"><a href="/doc/vue/vue3/code-demo/20-ä»£ç ç¤ºä¾‹1.html#_2-å‚ç›´é«˜äº®è½®æ’­åˆ‡æ¢æ•ˆæœ" class="sidebar-link">2. å‚ç›´é«˜äº®è½®æ’­åˆ‡æ¢æ•ˆæœ</a></li></ul></li><li><a href="/doc/vue/vue3/code-demo/30-å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„ä½¿ç”¨.html" class="sidebar-link">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä½¿ç”¨</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><p></p><div class="table-of-contents"><ul><li><a href="#_1-æ‹¦æˆªaé“¾æ¥å˜æˆjsä»£ç å¤„ç†">1. æ‹¦æˆªaé“¾æ¥å˜æˆJSä»£ç å¤„ç†</a></li><li><a href="#_2-å‚ç›´é«˜äº®è½®æ’­åˆ‡æ¢æ•ˆæœ">2. å‚ç›´é«˜äº®è½®æ’­åˆ‡æ¢æ•ˆæœ</a></li></ul></div><p></p> <p>[TOC]</p> <h1 id="ä»£ç ç¤ºä¾‹1"><a href="#ä»£ç ç¤ºä¾‹1" aria-hidden="true" class="header-anchor">#</a> ä»£ç ç¤ºä¾‹1</h1> <h2 id="_1-æ‹¦æˆªaé“¾æ¥å˜æˆjsä»£ç å¤„ç†"><a href="#_1-æ‹¦æˆªaé“¾æ¥å˜æˆjsä»£ç å¤„ç†" aria-hidden="true" class="header-anchor">#</a> 1. æ‹¦æˆªaé“¾æ¥å˜æˆJSä»£ç å¤„ç†</h2> <p><strong>Vue3 ç»„ä»¶ä¸­ç”¨ <code>v-html</code> æ¸²æŸ“å¯Œæ–‡æœ¬</strong>ï¼Œé‡Œé¢å¯èƒ½æœ‰ <code>&lt;a href=&quot;xxx&quot;&gt;</code> é“¾æ¥ã€‚é—®é¢˜æ˜¯ï¼š</p> <ul><li><code>v-html</code> æ¸²æŸ“çš„å†…å®¹æ˜¯ã€Œé™æ€ HTMLã€ï¼ŒVue ä¸ä¼šå¸®ä½ è‡ªåŠ¨ç»‘å®šäº‹ä»¶ã€‚</li> <li>æ‰€ä»¥ç‚¹ <code>&lt;a&gt;</code> é»˜è®¤å°±æ˜¯ç›´æ¥è·³è½¬ã€‚</li></ul> <p>ğŸ‘‰ è¦è§£å†³ï¼šéœ€è¦åœ¨ç»„ä»¶é‡Œç”¨ <strong>äº‹ä»¶ä»£ç†</strong> æˆ–è€… <strong>æ‰‹åŠ¨ç»‘å®šäº‹ä»¶</strong> æ¥æ‹¦æˆª <code>&lt;a&gt;</code> ç‚¹å‡»ï¼Œå†è°ƒç”¨ Vue æ–¹æ³•ã€‚<code>&lt;a&gt;</code>é“¾æ¥é‡Œå¯èƒ½æœ‰å‚æ•°ï¼ˆæ¯”å¦‚ query stringï¼‰ï¼Œç‚¹å‡»æ—¶æ‹¦æˆªï¼Œè§£æå‚æ•°ï¼Œç”¨å‚æ•°åšé€»è¾‘å¤„ç†ã€‚</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>contentRef<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>htmlContent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> onBeforeUnmount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> htmlContent <span class="token operator">=</span> <span class="token template-string"><span class="token string">`
  &lt;p&gt;ç‚¹æˆ‘çœ‹çœ‹æ•ˆæœï¼š
    &lt;a href=&quot;https://example.com/page?userId=123&amp;action=edit&quot;&gt;è‡ªå®šä¹‰è·³è½¬&lt;/a&gt;
  &lt;/p&gt;
`</span></span>
<span class="token keyword">const</span> contentRef <span class="token operator">=</span> ref<span class="token operator">&lt;</span>HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">handleLinkClick</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span> Event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target <span class="token keyword">as</span> HTMLElement
  <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// é˜»æ­¢é»˜è®¤è·³è½¬</span>
    <span class="token keyword">const</span> href <span class="token operator">=</span> <span class="token punctuation">(</span>target <span class="token keyword">as</span> HTMLAnchorElement<span class="token punctuation">)</span><span class="token punctuation">.</span>href
    <span class="token keyword">if</span> <span class="token punctuation">(</span>href<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç”¨ URL API è§£æå‚æ•°</span>
        <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span>
        <span class="token keyword">const</span> userId <span class="token operator">=</span> url<span class="token punctuation">.</span>searchParams<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'userId'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> action <span class="token operator">=</span> url<span class="token punctuation">.</span>searchParams<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'action'</span><span class="token punctuation">)</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‹¦æˆªåˆ°é“¾æ¥:'</span><span class="token punctuation">,</span> href<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å‚æ•° userId:'</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å‚æ•° action:'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span>

        <span class="token comment">// TODO: è¿™é‡Œå†™è‡ªå®šä¹‰å¤„ç†é€»è¾‘</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`å¤„ç†å‚æ•°ï¼šuserId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, action=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>action<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'URL è§£æå¤±è´¥:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  contentRef<span class="token punctuation">.</span>value<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handleLinkClick<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  contentRef<span class="token punctuation">.</span>value<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handleLinkClick<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2-å‚ç›´é«˜äº®è½®æ’­åˆ‡æ¢æ•ˆæœ"><a href="#_2-å‚ç›´é«˜äº®è½®æ’­åˆ‡æ¢æ•ˆæœ" aria-hidden="true" class="header-anchor">#</a> 2. å‚ç›´é«˜äº®è½®æ’­åˆ‡æ¢æ•ˆæœ</h2> <p>æ•ˆæœï¼š</p> <p><img src="/assets/img/20-01.a8b334c9.png" alt></p> <p>çˆ¶ç»„ä»¶ä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">padding</span><span class="token punctuation">:</span>24px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-header</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span><span class="token property">align-items</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">gap</span><span class="token punctuation">:</span>12px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>æ ‡é¢˜ï¼ˆä»…ç¤ºä¾‹ï¼‰<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span>240px</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>resetItems<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é‡ç½®æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addItem<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è¿½åŠ ä¸€é¡¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>removeItem<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>items.length===0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤æœ«é¡¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">margin-left</span><span class="token punctuation">:</span>auto<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>#cfe0ff</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å½“å‰ç´¢å¼•: {{ currentIndex }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-header</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-main</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span><span class="token property">justify-content</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">align-items</span><span class="token punctuation">:</span>flex-start<span class="token punctuation">;</span><span class="token property">padding-top</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- æŠŠæ•°ç»„ä¼ ç»™å­ç»„ä»¶ï¼Œå¹¶ç›‘å¬äº‹ä»¶ --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SeamlessLoopHighlight</span>
        <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>items<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@prev</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onPrev<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@next</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onNext<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@item-click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onItemClick<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-main</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SeamlessLoopHighlight <span class="token keyword">from</span> <span class="token string">'./component/SeamlessLoopHighlight.vue'</span><span class="token punctuation">;</span> <span class="token comment">// æ ¹æ®ä½ é¡¹ç›®è·¯å¾„è°ƒæ•´</span>

<span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'ç¤ºä¾‹ï¼šæ»šåŠ¨é«˜äº®åˆ—è¡¨'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> initial <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿå†…å­˜1'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹ŸCPU'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿå­˜å‚¨'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹ŸIP'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿç½‘ç»œ'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿç£ç›˜'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹ŸGPU'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿå¸¦å®½'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿå®‰å…¨ç»„'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿäº¤æ¢æœº'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿé˜²ç«å¢™'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿç½‘å…³'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿè´Ÿè½½å‡è¡¡'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">13</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'è™šæ‹Ÿé•œåƒ11'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span> <span class="token punctuation">;</span>
type Item <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span> value<span class="token punctuation">:</span> number <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> ref<span class="token operator">&lt;</span>Item<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>initial<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¦‚æœä½ æƒ³ä¿æŒçˆ¶ç»„ä»¶é‡Œçš„ currentIndexï¼ˆå±•ç¤ºç”¨ï¼‰</span>
<span class="token keyword">const</span> currentIndex <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">onPrev</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å½“å­ç»„ä»¶å‘å‡º prev äº‹ä»¶æ—¶è§¦å‘ï¼ˆå‘ä¸Šï¼‰</span>
  <span class="token comment">// è¿™é‡Œæˆ‘ä»¬ä»…æ¼”ç¤ºå¦‚ä½•æ¥æ”¶äº‹ä»¶å¹¶æ›´æ–°çˆ¶çŠ¶æ€</span>
  currentIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">(</span>currentIndex<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> items<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>items<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ElMessage({ message: 'å‘ä¸Šç¿»ä¸€é¡¹', type: 'info', duration: 800 });</span>
  <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token punctuation">:</span> a<span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">'info'</span><span class="token punctuation">,</span> duration<span class="token punctuation">:</span> <span class="token number">800</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  currentIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">(</span>currentIndex<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>items<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token punctuation">:</span> <span class="token string">'å‘ä¸‹ç¿»ä¸€é¡¹'</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> duration<span class="token punctuation">:</span> <span class="token number">800</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">onItemClick</span><span class="token punctuation">(</span>payload<span class="token punctuation">:</span> <span class="token punctuation">{</span> item<span class="token punctuation">:</span> string<span class="token punctuation">;</span> index<span class="token punctuation">:</span> number <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// payload æ¥è‡ªå­ç»„ä»¶ emit('item-click', { item, index })</span>
  <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    message<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`ç‚¹å‡»é¡¹ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>payload<span class="token punctuation">.</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ï¼ˆç´¢å¼• </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>payload<span class="token punctuation">.</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ï¼‰`</span></span><span class="token punctuation">,</span>
    type<span class="token punctuation">:</span> <span class="token string">'warning'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'wozhixing '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç¤ºèŒƒï¼šçˆ¶ç»„ä»¶ä¿®æ”¹ itemsï¼ˆå­ç»„ä»¶ä¼šå“åº” watchï¼‰</span>
<span class="token keyword">function</span> <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  items<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`æ–°é¡¹</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>items<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> items<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  items<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentIndex<span class="token punctuation">.</span>value <span class="token operator">&gt;=</span> items<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> currentIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> items<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">resetItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  items<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>initial<span class="token punctuation">]</span><span class="token punctuation">;</span>
  currentIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
<span class="token comment">/* ä»…ä½œé¡µé¢å¸ƒå±€ç¤ºä¾‹ï¼Œå¯æŒ‰éœ€åˆ æ”¹ */</span>
<span class="token selector">.el-header</span> <span class="token punctuation">{</span> <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token property">border-bottom</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 12px 0<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">.el-main</span> <span class="token punctuation">{</span> <span class="token property">min-height</span><span class="token punctuation">:</span> 360px<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­ç»„ä»¶ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>arrow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onUp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>âˆ§<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>listEl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">listStyle</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æ¸²æŸ“ VISIBLE+2 ä¸ªå ä½èŠ‚ç‚¹ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(n, i) in nodesCount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onItemClick(i)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          {{ visibleTexts[i]?.name }}{{ visibleTexts[i]?.value }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>arrow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onDown<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>âˆ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> nextTick<span class="token punctuation">,</span> onBeforeUnmount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> type <span class="token punctuation">{</span> PropType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token comment">// Props + Emits</span>
type Item <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span> value<span class="token punctuation">:</span> number <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  items<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> Array <span class="token keyword">as</span> PropType<span class="token operator">&lt;</span>Item<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'prev'</span><span class="token punctuation">,</span> <span class="token string">'next'</span><span class="token punctuation">,</span> <span class="token string">'item-click'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¸¸é‡</span>
<span class="token keyword">const</span> <span class="token constant">ITEM_H</span> <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">VIEW_H</span> <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">VISIBLE</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">CENTER</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token constant">VISIBLE</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">ANIM_MS</span> <span class="token operator">=</span> <span class="token number">360</span><span class="token punctuation">;</span>

<span class="token comment">// DOM refs</span>
<span class="token keyword">const</span> listEl <span class="token operator">=</span> ref<span class="token operator">&lt;</span>HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æœ¬åœ°çŠ¶æ€</span>
<span class="token keyword">const</span> currentIndex <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isAnimating <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸ºäº†å®ç°è·ŸåŸç”Ÿå®ç°ä¸€è‡´ï¼Œä¿æŒ VISIBLE+2 ä¸ªèŠ‚ç‚¹</span>
<span class="token keyword">const</span> nodesCount <span class="token operator">=</span> <span class="token constant">VISIBLE</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// è®¡ç®—å ä½èŠ‚ç‚¹æ˜¾ç¤ºæ–‡æœ¬ï¼ˆæ ¹æ® currentIndex å’Œ props.itemsï¼‰</span>
<span class="token keyword">const</span> visibleTexts <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> arr<span class="token punctuation">:</span> <span class="token punctuation">(</span>Item <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> n <span class="token operator">=</span> props<span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nodesCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> offset <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token constant">CENTER</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> idx <span class="token operator">=</span> n <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>currentIndex<span class="token punctuation">.</span>value <span class="token operator">+</span> offset<span class="token punctuation">)</span> <span class="token operator">%</span> n <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token operator">%</span> n <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>idx <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> props<span class="token punctuation">.</span>items<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// list çš„ transform æ ·å¼ï¼ˆå†…è” styleï¼‰ï¼Œç”¨äºåŠ¨ç”»</span>
<span class="token keyword">const</span> baseTranslate <span class="token operator">=</span> <span class="token constant">VIEW_H</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token constant">CENTER</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token constant">ITEM_H</span> <span class="token operator">+</span> <span class="token constant">ITEM_H</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> translateY <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>baseTranslate<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> transitioning <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> listStyle <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  transform<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`translateY(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>translateY<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px)`</span></span><span class="token punctuation">,</span>
  transition<span class="token punctuation">:</span> transitioning<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token template-string"><span class="token string">`transform </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">ANIM_MS</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms cubic-bezier(.2,.9,.2,1)`</span></span> <span class="token punctuation">:</span> <span class="token string">'none'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ›´æ–°é«˜äº®ï¼ˆå­—ä½“å¤§å° / é¢œè‰² / opacityï¼‰</span>
<span class="token keyword">function</span> <span class="token function">updateHighlightStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>listEl<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> children <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>listEl<span class="token punctuation">.</span>value<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> offset <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token constant">CENTER</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> t <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> fontSize <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">+</span> t <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">28</span> <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> opacity <span class="token operator">=</span> <span class="token number">0.6</span> <span class="token operator">+</span> t <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> colorVal <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">153</span> <span class="token operator">+</span> t <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">255</span> <span class="token operator">-</span> <span class="token number">153</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fontSize<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px`</span></span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>opacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token template-string"><span class="token string">`rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>colorVal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>colorVal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>colorVal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è®¾ç½® transformï¼ˆå¸¦/ä¸å¸¦åŠ¨ç”»ï¼‰</span>
<span class="token keyword">function</span> <span class="token function">setTransform</span><span class="token punctuation">(</span>y<span class="token punctuation">:</span> number<span class="token punctuation">,</span> animate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  transitioning<span class="token punctuation">.</span>value <span class="token operator">=</span> animate<span class="token punctuation">;</span>
  translateY<span class="token punctuation">.</span>value <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç§»åŠ¨å‡½æ•°ï¼ˆstep = +1 æˆ– -1ï¼‰</span>
<span class="token comment">// è¿”å›ä¸€ä¸ª Promiseï¼Œåœ¨åŠ¨ç”»ç»“æŸæ—¶ resolveï¼Œä¾¿äºè°ƒç”¨æ–¹å¾—åˆ°æœ€æ–°é«˜äº®é¡¹</span>
<span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span>step<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isAnimating<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>props<span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    isAnimating<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    currentIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>currentIndex<span class="token punctuation">.</span>value <span class="token operator">+</span> step<span class="token punctuation">)</span> <span class="token operator">%</span> props<span class="token punctuation">.</span>items<span class="token punctuation">.</span>length <span class="token operator">+</span> props<span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">%</span> props<span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'move currentIndex.value: '</span><span class="token punctuation">,</span> currentIndex<span class="token punctuation">.</span>value <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å…ˆæ›´æ–°æ–‡æœ¬å’Œæ ·å¼ï¼ˆcomputed visibleTexts ä¼šå˜åŒ–ï¼‰</span>
    <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">updateHighlightStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// åšåŠ¨ç”»ï¼šç§»åŠ¨ step é«˜åº¦</span>
      <span class="token function">setTransform</span><span class="token punctuation">(</span>baseTranslate <span class="token operator">-</span> step <span class="token operator">*</span> <span class="token constant">ITEM_H</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> <span class="token function-variable function">onEnd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>listEl<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        listEl<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'transitionend'</span><span class="token punctuation">,</span> onEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// æ¢å¤åˆ° baseTranslateï¼ˆæ— åŠ¨ç”»ï¼‰</span>
        <span class="token function">setTransform</span><span class="token punctuation">(</span>baseTranslate<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ‰§è¡Œäº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ç­‰ä¸€å¸§å†è§£é™¤ anim æ ‡å¿—å¹¶ resolve</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          isAnimating<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>listEl<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        listEl<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'transitionend'</span><span class="token punctuation">,</span> onEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ·»åŠ ç›‘å¬'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// å…œåº•</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> isAnimating<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token function">setTransform</span><span class="token punctuation">(</span>baseTranslate<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant">ANIM_MS</span> <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æŒ‰é’®äº‹ä»¶ï¼ˆåŒæ—¶é€šçŸ¥çˆ¶ç»„ä»¶ï¼‰</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">onDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// å°†å½“å‰é«˜äº®é¡¹ï¼ˆå½“å‰ currentIndex å¯¹åº”çš„ itemï¼‰ä¼ å›çˆ¶ç»„ä»¶</span>
  <span class="token keyword">const</span> item <span class="token operator">=</span> props<span class="token punctuation">.</span>items<span class="token punctuation">[</span>currentIndex<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'next'</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">onUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> item <span class="token operator">=</span> props<span class="token punctuation">.</span>items<span class="token punctuation">[</span>currentIndex<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'prev'</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// é¡¹ç›®ç‚¹å‡»</span>
<span class="token keyword">function</span> <span class="token function">onItemClick</span><span class="token punctuation">(</span>nodeIndex<span class="token punctuation">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è®¡ç®—çœŸå®ç´¢å¼•</span>
  <span class="token keyword">const</span> n <span class="token operator">=</span> props<span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>n<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> offset <span class="token operator">=</span> nodeIndex <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token constant">CENTER</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> idx <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>currentIndex<span class="token punctuation">.</span>value <span class="token operator">+</span> offset<span class="token punctuation">)</span> <span class="token operator">%</span> n <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token operator">%</span> n<span class="token punctuation">;</span>
  <span class="token keyword">const</span> item <span class="token operator">=</span> props<span class="token punctuation">.</span>items<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'item-click'</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// é”®ç›˜ç›‘å¬</span>
<span class="token keyword">function</span> <span class="token function">onKeydown</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span> KeyboardEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">'ArrowDown'</span><span class="token punctuation">)</span> <span class="token function">onDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">'ArrowUp'</span><span class="token punctuation">)</span> <span class="token function">onUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆå§‹åŒ– transform ä¸é«˜äº®</span>
  <span class="token function">setTransform</span><span class="token punctuation">(</span>baseTranslate<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">updateHighlightStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> onKeydown<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> onKeydown<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å½“çˆ¶ç»„ä»¶ä¿®æ”¹ items æ—¶ï¼Œé‡ç½® currentIndex ä¿è¯ä¸è¶Šç•Œå¹¶æ›´æ–°æ˜¾ç¤º</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>newVal <span class="token operator">||</span> newVal<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  currentIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> currentIndex<span class="token punctuation">.</span>value <span class="token operator">%</span> newVal<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">updateHighlightStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
<span class="token selector">:root</span><span class="token punctuation">{</span>
  <span class="token property">--bg</span><span class="token punctuation">:</span>#1f2b40<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.wrap</span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #1f2b40<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
  <span class="token property">user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span>column<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.arrow</span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span>40px<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span>#dfe7f6<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span>pointer<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>10px 0<span class="token punctuation">;</span>
  <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span>transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.viewport</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>320px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>8px auto<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.list</span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span>column<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
  <span class="token property">will-change</span><span class="token punctuation">:</span> transform<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.item</span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span>60px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span>60px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span>0.6<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span><span class="token function">rgb</span><span class="token punctuation">(</span>153,153,153<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span>border-box<span class="token punctuation">;</span>
  <span class="token property">user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span>pointer<span class="token punctuation">;</span>
  // <span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span>
  // <span class="token property">justify-content</span><span class="token punctuation">:</span>space-between<span class="token punctuation">;</span>
  // <span class="token property">padding</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> font-size 0.36s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.2,.9,.2,1<span class="token punctuation">)</span>,
              color 0.36s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.2,.9,.2,1<span class="token punctuation">)</span>,
              opacity 0.36s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.2,.9,.2,1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">// .item .name</span><span class="token punctuation">{</span>
//   <span class="token property">flex</span><span class="token punctuation">:</span>1<span class="token punctuation">;</span>
//   <span class="token property">text-align</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span>
// <span class="token punctuation">}</span>
<span class="token selector">// .item .value</span><span class="token punctuation">{</span>
//   <span class="token property">width</span><span class="token punctuation">:</span>48px<span class="token punctuation">;</span>
//   <span class="token property">text-align</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span>
// <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/yulilong/front-end-doc/edit/master/doc/vue/vue3/code-demo/20-ä»£ç ç¤ºä¾‹1.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12/17/2025, 8:51:16 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/77.90e5533f.js" defer></script><script src="/assets/js/app.2afb8482.js" defer></script>
  </body>
</html>
